!function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=75)}([function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(0),i=n(25),o=n(54),s=n(5),a=n(39),u=n(14),c=n(35),l=function(t){function e(n,r,i){var s=t.call(this)||this;switch(s.syncErrorValue=null,s.syncErrorThrown=!1,s.syncErrorThrowable=!1,s.isStopped=!1,arguments.length){case 0:s.destination=o.a;break;case 1:if(!n){s.destination=o.a;break}if("object"==typeof n){n instanceof e?(s.syncErrorThrowable=n.syncErrorThrowable,s.destination=n,n.add(s)):(s.syncErrorThrowable=!0,s.destination=new d(s,n));break}default:s.syncErrorThrowable=!0,s.destination=new d(s,n,r,i)}return s}return r.a(e,t),e.prototype[a.a]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(s.a),d=function(t){function e(e,n,r,s){var a,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return Object(i.a)(n)?a=n:n&&(a=n.next,r=n.error,s=n.complete,n!==o.a&&(c=Object.create(n),Object(i.a)(c.unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=a,u._error=r,u._complete=s,u}return r.a(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=u.a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(c.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(c.a)(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};u.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.a.useDeprecatedSynchronousErrorHandling)throw t;Object(c.a)(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!u.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(e){return u.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(Object(c.a)(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(51),i=n(1),o=n(39),s=n(54);var a=n(21),u=n(38),c=n(14),l=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,a=function(t,e,n){if(t){if(t instanceof i.a)return t;if(t[o.a])return t[o.a]()}return t||e||n?new i.a(t,e,n):new i.a(s.a)}(t,e,n);if(r?a.add(r.call(a,this.source)):a.add(this.source||c.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){c.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),Object(r.a)(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=d(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(t){r(t),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[a.a]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:Object(u.b)(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=d(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function d(t){if(t||(t=c.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(13),i=n(41),o=n(2);function s(t,e,n,s,a){if(void 0===a&&(a=new r.a(t,n,s)),!a.closed)return e instanceof o.a?e.subscribe(a):Object(i.a)(e)(a)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(n(1).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(7),i=n(50),o=n(25),s=n(40),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,a=this._unsubscribe,c=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var l=0;l<n.length;++l){n[l].remove(this)}if(Object(o.a)(a))try{a.call(this)}catch(t){e=t instanceof s.a?u(t.errors):[t]}if(Object(r.a)(c)){l=-1;for(var d=c.length;++l<d;){var h=c[l];if(Object(i.a)(h))try{h.unsubscribe()}catch(t){e=e||[],t instanceof s.a?e=e.concat(u(t.errors)):e.push(t)}}}if(e)throw new s.a(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function u(t){return t.reduce((function(t,e){return t.concat(e instanceof s.a?e.errors:e)}),[])}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d}));var r=n(0),i=n(2),o=n(1),s=n(5),a=n(22),u=n(70),c=n(39),l=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return r.a(e,t),e}(o.a),d=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return r.a(e,t),e.prototype[c.a]=function(){return new l(this)},e.prototype.lift=function(t){var e=new h(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.a;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.a;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.a;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new u.a(this,t))},e.prototype.asObservable=function(){var t=new i.a;return t.source=this,t},e.create=function(t,e){return new h(t,e)},e}(i.a),h=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return r.a(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):s.a.EMPTY},e}(d)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(32),i=new(n(30).a)(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(1);function o(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a)},function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(2),i=new r.a((function(t){return t.complete()}));function o(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(2),i=n(41),o=n(68);function s(t,e){return e?Object(o.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(n(1).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=!1,i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogLevel=void 0,function(t){t.DEFAULT="default",t.ALL="all",t.USER="user",t.BEFORE_COMMAND="before-command-execute",t.AFTER_COMMAND="after-command-execute",t.BEFORE_VALIDATION="before-command-validation",t.AFTER_VALIDATION="after-command-validation"}(e.LogLevel||(e.LogLevel={}))},function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(1);function o(t,e){return function(n){return n.lift(new s(t,e))}}var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"b",(function(){return r})),n.d(e,"a",(function(){return a}));var r,i=n(11),o=n(36),s=n(45);r||(r={});var a=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return Object(o.a)(this.value);case"E":return Object(s.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}()},function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",(function(){return i}));var i=r()},function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(0),i=n(3),o=n(4),s=n(13),a=n(9),u=n(12);function c(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(c((function(n,r){return Object(u.a)(t(n,r)).pipe(Object(a.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new l(t,n))})}var l=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new d(t,this.project,this.concurrent))},t}(),d=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new s.a(this,e,n),o=this.destination;o.add(r);var a=Object(i.a)(this,t,void 0,void 0,r);a!==r&&o.add(a)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(o.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameCommand=void 0;var r=n(79),i=n(15),o=n(56),s=n(80),a=function(){function t(){this.events=r.GameEvents.getInstance()}return t.prototype.toString=function(){var t;return null===(t=this.constructor)||void 0===t?void 0:t.name},t.prototype.checkForPlayersWhoShouldHaveYelledUno=function(t){var e=this,n=t.getPlayersWhoShouldHaveYelled();t.log(n.map((function(t){return t.name})).join(", ")+" deberían haber cantado UNO",i.LogLevel.ALL),n.forEach((function(n){var r=t.giveCards(s.Constants.COUNT_CARD_TO_TAKE_WHO_SHOULD_YELL_UNO,n);t.log(n.name+" toma dos cartas",i.LogLevel.ALL),e.events.dispatchAfterTakeCards(new o.AfterTakeCardsEvent(r,n))}))},t}();e.GameCommand=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandValidation=void 0;var r=function(t,e){this.isValid=t,this.error=e};e.CommandValidation=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(2),i=n(71),o=n(52);function s(t,e){return e?Object(o.a)(t,e):new r.a(Object(i.a)(t))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(57),o=function(t){function e(n,r){void 0===r&&(r=i.a.now);var o=t.call(this,n,(function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()}))||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.a(e,t),e.prototype.schedule=function(n,r,i){return void 0===r&&(r=0),e.delegate&&e.delegate!==this?e.delegate.schedule(n,r,i):t.prototype.schedule.call(this,n,r,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(6),o=n(5),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return r.a(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),o.a.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),o.a.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return r.a(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||new Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return r.a(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(n(5).a))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(7);function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(36),i=n(64);function o(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(i.a)()(r.a.apply(void 0,t))}},function(t,e,n){"use strict";function r(t){setTimeout((function(){throw t}),0)}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(10),i=n(29),o=n(52);function s(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(r.a)(n)?(t.pop(),Object(o.a)(t,n)):Object(i.a)(t)}},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=(s=r,a=btoa(unescape(encodeURIComponent(JSON.stringify(s)))),u="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(a),"/*# ".concat(u," */")),o=r.sources.map((function(t){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(t," */")}));return[n].concat(o).concat([i]).join("\n")}var s,a,u;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var o=0;o<this.length;o++){var s=this[o][0];null!=s&&(i[s]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return o}));var r=n(16);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)}function o(t){return 0===t.length?r.a:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(71),i=n(35),o=n(19),s=n(21),a=n(72),u=n(73),c=n(50),l=function(t){if(t&&"function"==typeof t[s.a])return l=t,function(t){var e=l[s.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,i.a),t};if(t&&"function"==typeof t[o.a])return e=t,function(t){for(var n=e[o.a]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,l,d=Object(c.a)(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+d+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")}},function(t,e,n){"use strict";n.r(e),n.d(e,"Observable",(function(){return r.a})),n.d(e,"ConnectableObservable",(function(){return i.a})),n.d(e,"GroupedObservable",(function(){return o.a})),n.d(e,"observable",(function(){return s.a})),n.d(e,"Subject",(function(){return a.a})),n.d(e,"BehaviorSubject",(function(){return u.a})),n.d(e,"ReplaySubject",(function(){return c.a})),n.d(e,"AsyncSubject",(function(){return l.a})),n.d(e,"asapScheduler",(function(){return d.a})),n.d(e,"asyncScheduler",(function(){return h.a})),n.d(e,"queueScheduler",(function(){return f.a})),n.d(e,"animationFrameScheduler",(function(){return m})),n.d(e,"VirtualTimeScheduler",(function(){return y})),n.d(e,"VirtualAction",(function(){return w})),n.d(e,"Scheduler",(function(){return _.a})),n.d(e,"Subscription",(function(){return x.a})),n.d(e,"Subscriber",(function(){return E.a})),n.d(e,"Notification",(function(){return S.a})),n.d(e,"NotificationKind",(function(){return S.b})),n.d(e,"pipe",(function(){return O.a})),n.d(e,"noop",(function(){return C.a})),n.d(e,"identity",(function(){return j.a})),n.d(e,"isObservable",(function(){return P})),n.d(e,"ArgumentOutOfRangeError",(function(){return T.a})),n.d(e,"EmptyError",(function(){return L.a})),n.d(e,"ObjectUnsubscribedError",(function(){return M.a})),n.d(e,"UnsubscriptionError",(function(){return k.a})),n.d(e,"TimeoutError",(function(){return A.a})),n.d(e,"bindCallback",(function(){return V})),n.d(e,"bindNodeCallback",(function(){return U})),n.d(e,"combineLatest",(function(){return W.b})),n.d(e,"concat",(function(){return q.a})),n.d(e,"defer",(function(){return X.a})),n.d(e,"empty",(function(){return H.b})),n.d(e,"forkJoin",(function(){return J})),n.d(e,"from",(function(){return K.a})),n.d(e,"fromEvent",(function(){return tt})),n.d(e,"fromEventPattern",(function(){return et})),n.d(e,"generate",(function(){return nt})),n.d(e,"iif",(function(){return it})),n.d(e,"interval",(function(){return st})),n.d(e,"merge",(function(){return ut.a})),n.d(e,"never",(function(){return lt})),n.d(e,"of",(function(){return dt.a})),n.d(e,"onErrorResumeNext",(function(){return ht})),n.d(e,"pairs",(function(){return ft})),n.d(e,"partition",(function(){return mt})),n.d(e,"race",(function(){return yt.a})),n.d(e,"range",(function(){return wt})),n.d(e,"throwError",(function(){return xt.a})),n.d(e,"timer",(function(){return Et.a})),n.d(e,"using",(function(){return St})),n.d(e,"zip",(function(){return Ot.b})),n.d(e,"scheduled",(function(){return Ct.a})),n.d(e,"EMPTY",(function(){return H.a})),n.d(e,"NEVER",(function(){return ct})),n.d(e,"config",(function(){return jt.a}));var r=n(2),i=n(60),o=n(58),s=n(21),a=n(6),u=n(61),c=n(44),l=n(31),d=n(53),h=n(8),f=n(69),p=n(0),v=n(32),b=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return p.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame((function(){return e.flush(null)}))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(cancelAnimationFrame(n),e.scheduled=void 0)},e}(v.a),g=n(30),m=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return p.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(g.a))(b),y=function(t){function e(e,n){void 0===e&&(e=w),void 0===n&&(n=Number.POSITIVE_INFINITY);var r=t.call(this,e,(function(){return r.frame}))||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return p.a(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(g.a),w=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var i=t.call(this,e,n)||this;return i.scheduler=e,i.work=n,i.index=r,i.active=!0,i.index=e.index=r,i}return p.a(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(v.a),_=n(57),x=n(5),E=n(1),S=n(18),O=n(38),C=n(20),j=n(16);function P(t){return!!t&&(t instanceof r.a||"function"==typeof t.lift&&"function"==typeof t.subscribe)}var T=n(24),L=n(28),M=n(22),k=n(40),A=n(63),I=n(9),D=n(51),N=n(7),R=n(10);function V(t,e,n){if(e){if(!Object(R.a)(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return V(t,n).apply(void 0,r).pipe(Object(I.a)((function(t){return Object(N.a)(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o,s=this,a={context:s,subject:o,callbackFunc:t,scheduler:n};return new r.a((function(r){if(n){var i={args:e,subscriber:r,params:a};return n.schedule(F,0,i)}if(!o){o=new l.a;try{t.apply(s,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];o.next(t.length<=1?t[0]:t),o.complete()}]))}catch(t){Object(D.a)(o)?o.error(t):console.warn(t)}}return o.subscribe(r)}))}}function F(t){var e=this,n=t.args,r=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,a=i.scheduler,u=i.subject;if(!u){u=i.subject=new l.a;try{o.apply(s,n.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length<=1?t[0]:t;e.add(a.schedule(G,0,{value:r,subject:u}))}]))}catch(t){u.error(t)}}this.add(u.subscribe(r))}function G(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function U(t,e,n){if(e){if(!Object(R.a)(e))return function(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];return U(t,n).apply(void 0,r).pipe(Object(I.a)((function(t){return Object(N.a)(t)?e.apply(void 0,t):e(t)})))};n=e}return function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o={subject:void 0,args:e,callbackFunc:t,scheduler:n,context:this};return new r.a((function(r){var i=o.context,s=o.subject;if(n)return n.schedule(z,0,{params:o,subscriber:r,context:i});if(!s){s=o.subject=new l.a;try{t.apply(i,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.shift();n?s.error(n):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){Object(D.a)(s)?s.error(t):console.warn(t)}}return s.subscribe(r)}))}}function z(t){var e=this,n=t.params,r=t.subscriber,i=t.context,o=n.callbackFunc,s=n.args,a=n.scheduler,u=n.subject;if(!u){u=n.subject=new l.a;try{o.apply(i,s.concat([function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.shift();if(r)e.add(a.schedule(B,0,{err:r,subject:u}));else{var i=t.length<=1?t[0]:t;e.add(a.schedule(Y,0,{value:i,subject:u}))}}]))}catch(t){this.add(a.schedule(B,0,{err:t,subject:u}))}}this.add(u.subscribe(r))}function Y(t){var e=t.value,n=t.subject;n.next(e),n.complete()}function B(t){var e=t.err;t.subject.error(e)}var W=n(46),q=n(34),X=n(48),H=n(11),$=n(50),K=n(12);function J(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(Object(N.a)(n))return Z(n,null);if(Object($.a)(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Z(r.map((function(t){return n[t]})),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return Z(t=1===t.length&&Object(N.a)(t[0])?t[0]:t,null).pipe(Object(I.a)((function(t){return i.apply(void 0,t)})))}return Z(t,null)}function Z(t,e){return new r.a((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,s=0,a=function(a){var u=Object(K.a)(t[a]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,s++),i[a]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(s===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)a(u);else n.complete()}))}var Q=n(25);function tt(t,e,n,i){return Object(Q.a)(n)&&(i=n,n=void 0),i?tt(t,e,n).pipe(Object(I.a)((function(t){return Object(N.a)(t)?i.apply(void 0,t):i(t)}))):new r.a((function(r){!function t(e,n,r,i,o){var s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(e)){var a=e;e.addEventListener(n,r,o),s=function(){return a.removeEventListener(n,r,o)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(e)){var u=e;e.on(n,r),s=function(){return u.off(n,r)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(e)){var c=e;e.addListener(n,r),s=function(){return c.removeListener(n,r)}}else{if(!e||!e.length)throw new TypeError("Invalid event target");for(var l=0,d=e.length;l<d;l++)t(e[l],n,r,i,o)}i.add(s)}(t,e,(function(t){arguments.length>1?r.next(Array.prototype.slice.call(arguments)):r.next(t)}),r,n)}))}function et(t,e,n){return n?et(t,e).pipe(Object(I.a)((function(t){return Object(N.a)(t)?n.apply(void 0,t):n(t)}))):new r.a((function(n){var r,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return n.next(1===t.length?t[0]:t)};try{r=t(i)}catch(t){return void n.error(t)}if(Object(Q.a)(e))return function(){return e(i,r)}}))}function nt(t,e,n,i,o){var s,a;if(1==arguments.length){var u=t;a=u.initialState,e=u.condition,n=u.iterate,s=u.resultSelector||j.a,o=u.scheduler}else void 0===i||Object(R.a)(i)?(a=t,s=j.a,o=i):(a=t,s=i);return new r.a((function(t){var r=a;if(o)return o.schedule(rt,0,{subscriber:t,iterate:n,condition:e,resultSelector:s,state:r});for(;;){if(e){var i=void 0;try{i=e(r)}catch(e){return void t.error(e)}if(!i){t.complete();break}}var u=void 0;try{u=s(r)}catch(e){return void t.error(e)}if(t.next(u),t.closed)break;try{r=n(r)}catch(e){return void t.error(e)}}}))}function rt(t){var e=t.subscriber,n=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(n){var r=void 0;try{r=n(t.state)}catch(t){return void e.error(t)}if(!r)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function it(t,e,n){return void 0===e&&(e=H.a),void 0===n&&(n=H.a),Object(X.a)((function(){return t()?e:n}))}var ot=n(33);function st(t,e){return void 0===t&&(t=0),void 0===e&&(e=h.a),(!Object(ot.a)(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=h.a),new r.a((function(n){return n.add(e.schedule(at,t,{subscriber:n,counter:0,period:t})),n}))}function at(t){var e=t.subscriber,n=t.counter,r=t.period;e.next(n),this.schedule({subscriber:e,counter:n+1,period:r},r)}var ut=n(65),ct=new r.a(C.a);function lt(){return ct}var dt=n(36);function ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return H.a;var n=t[0],i=t.slice(1);return 1===t.length&&Object(N.a)(n)?ht.apply(void 0,n):new r.a((function(t){var e=function(){return t.add(ht.apply(void 0,i).subscribe(t))};return Object(K.a)(n).subscribe({next:function(e){t.next(e)},error:e,complete:e})}))}function ft(t,e){return e?new r.a((function(n){var r=Object.keys(t),i=new x.a;return i.add(e.schedule(pt,0,{keys:r,index:0,subscriber:n,subscription:i,obj:t})),i})):new r.a((function(e){for(var n=Object.keys(t),r=0;r<n.length&&!e.closed;r++){var i=n[r];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()}))}function pt(t){var e=t.keys,n=t.index,r=t.subscriber,i=t.subscription,o=t.obj;if(!r.closed)if(n<e.length){var s=e[n];r.next([s,o[s]]),i.add(this.schedule({keys:e,index:n+1,subscriber:r,subscription:i,obj:o}))}else r.complete()}var vt=n(74),bt=n(41),gt=n(17);function mt(t,e,n){return[Object(gt.a)(e,n)(new r.a(Object(bt.a)(t))),Object(gt.a)(Object(vt.a)(e,n))(new r.a(Object(bt.a)(t)))]}var yt=n(66);function wt(t,e,n){return void 0===t&&(t=0),new r.a((function(r){void 0===e&&(e=t,t=0);var i=0,o=t;if(n)return n.schedule(_t,0,{index:i,count:e,start:t,subscriber:r});for(;;){if(i++>=e){r.complete();break}if(r.next(o++),r.closed)break}}))}function _t(t){var e=t.start,n=t.index,r=t.count,i=t.subscriber;n>=r?i.complete():(i.next(e),i.closed||(t.index=n+1,t.start=e+1,this.schedule(t)))}var xt=n(45),Et=n(67);function St(t,e){return new r.a((function(n){var r,i;try{r=t()}catch(t){return void n.error(t)}try{i=e(r)}catch(t){return void n.error(t)}var o=(i?Object(K.a)(i):H.a).subscribe(n);return function(){o.unsubscribe(),r&&r.unsubscribe()}}))}var Ot=n(49),Ct=n(68),jt=n(14)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=n(1);function o(){return function(t){return t.lift(new s(t))}}var s=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new a(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),a=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(i.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(0),i=n(6),o=n(69),s=n(5),a=n(62),u=n(22),c=n(70),l=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=r,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return r.a(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new d(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=r.length;if(this.closed)throw new u.a;if(this.isStopped||this.hasError?e=s.a.EMPTY:(this.observers.push(t),e=new c.a(this,t)),i&&t.add(t=new a.a(t,i)),n)for(var l=0;l<o&&!t.closed;l++)t.next(r[l]);else for(l=0;l<o&&!t.closed;l++)t.next(r[l].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||o.a).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,o=0;o<i&&!(t-r[o].time<n);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&r.splice(0,o),r},e}(i.a),d=function(){return function(t,e){this.time=t,this.value=e}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(2);function i(t,e){return e?new r.a((function(n){return e.schedule(o,0,{error:t,subscriber:n})})):new r.a((function(e){return e.error(t)}))}function o(t){var e=t.error;t.subscriber.error(e)}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d}));var r=n(0),i=n(10),o=n(7),s=n(4),a=n(3),u=n(29),c={};function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return Object(i.a)(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(o.a)(t[0])&&(t=t[0]),Object(u.a)(t,r).lift(new d(n))}var d=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return r.a(e,t),e.prototype._next=function(t){this.values.push(c),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(Object(a.a)(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,s=o[n],a=this.toRespond?s===c?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(23),i=n(16);function o(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Object(r.a)(i.a,t)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(2),i=n(12),o=n(11);function s(t){return new r.a((function(e){var n;try{n=t()}catch(t){return void e.error(t)}return(n?Object(i.a)(n):Object(o.b)()).subscribe(e)}))}},function(t,e,n){"use strict";n.d(e,"b",(function(){return l})),n.d(e,"a",(function(){return d}));var r=n(0),i=n(29),o=n(7),s=n(1),a=n(4),u=n(3),c=n(19);function l(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),Object(i.a)(t,void 0).lift(new d(n))}var d=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new h(t,this.resultSelector))},t}(),h=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof n?n:null,i.values=r,i}return r.a(e,t),e.prototype._next=function(t){var e=this.iterators;Object(o.a)(t)?e.push(new p(t)):"function"==typeof t[c.a]?e.push(new f(t[c.a]())):e.push(new v(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var n=0;n<e;n++){var r=t[n];if(r.stillUnsubscribed)this.destination.add(r.subscribe(r,n));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){if("function"==typeof(s=t[r]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(r=0;r<e;r++){var s,a=(s=t[r]).next();if(s.hasCompleted()&&(i=!0),a.done)return void n.complete();o.push(a.value)}this.resultSelector?this._tryresultSelector(o):n.next(o),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(s.a),f=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),p=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[c.a]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),v=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.parent=n,i.observable=r,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return r.a(e,t),e.prototype[c.a]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return Object(u.a)(this,this.observable,this,e)},e}(a.a)},function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(1);function i(t){for(;t;){var e=t,n=e.closed,i=e.destination,o=e.isStopped;if(n||o)return!1;t=i&&i instanceof r.a?i:null}return!0}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),i=n(5);function o(t,e){return new r.a((function(n){var r=new i.a,o=0;return r.add(e.schedule((function(){o!==t.length?(n.next(t[o++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return d}));var r=n(0),i=1,o=function(){return Promise.resolve()}(),s={};function a(t){return t in s&&(delete s[t],!0)}var u=function(t){var e=i++;return s[e]=!0,o.then((function(){return a(e)&&t()})),e},c=function(t){a(t)},l=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=u(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(c(n),e.scheduled=void 0)},e}(n(32).a),d=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,i=n.length;t=t||n.shift();do{if(e=t.execute(t.state,t.delay))break}while(++r<i&&(t=n.shift()));if(this.active=!1,e){for(;++r<i&&(t=n.shift());)t.unsubscribe();throw e}},e}(n(30).a))(l)},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(14),i=n(35),o={closed:!0,next:function(t){},error:function(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete:function(){}}},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.isValidValue=e.isSpecial=e.VALUES=e.Value=void 0,function(t){t.ZERO="cero",t.ONE="uno",t.TWO="dos",t.THREE="tres",t.FOUR="cuatro",t.FIVE="cinco",t.SIX="seis",t.SEVEN="siete",t.EIGHT="ocho",t.NINE="nueve",t.PLUS_TWO="mas-dos",t.REVERSE="reversa",t.SKIP="saltar",t.WILDCARD="comodin",t.PLUS_FOUR="mas-cuatro"}(r=e.Value||(e.Value={})),e.VALUES=[r.ZERO,r.ONE,r.TWO,r.THREE,r.FOUR,r.FIVE,r.SIX,r.SEVEN,r.EIGHT,r.NINE,r.PLUS_TWO,r.REVERSE,r.SKIP,r.WILDCARD,r.PLUS_FOUR],e.isSpecial=function(t){return t===r.WILDCARD||t===r.PLUS_FOUR},e.isValidValue=function(t){return-1!==e.VALUES.indexOf(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AfterTakeCardsEvent=void 0;var r=function(t,e){this.cards=t,this.player=e};e.AfterTakeCardsEvent=r},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}()},function(t,e,n){"use strict";n.d(e,"b",(function(){return u})),n.d(e,"a",(function(){return h}));var r=n(0),i=n(1),o=n(5),s=n(2),a=n(6);function u(t,e,n,r){return function(i){return i.lift(new c(t,e,n,r))}}var c=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new l(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),l=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var n=this.groups;n||(n=this.groups=new Map);var r,i=n.get(e);if(this.elementSelector)try{r=this.elementSelector(t)}catch(t){this.error(t)}else r=t;if(!i){i=this.subjectSelector?this.subjectSelector():new a.a,n.set(e,i);var o=new h(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new h(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new d(e,i,this)))}}i.closed||i.next(r)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach((function(e,n){e.error(t)})),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach((function(t,e){t.complete()})),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(i.a),d=function(t){function e(e,n,r){var i=t.call(this,n)||this;return i.key=e,i.group=n,i.parent=r,i}return r.a(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(i.a),h=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.groupSubject=n,i.refCountSubscription=r,i}return r.a(e,t),e.prototype._subscribe=function(t){var e=new o.a,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new f(n)),e.add(r.subscribe(t)),e},e}(s.a),f=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return r.a(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(o.a)},function(t,e,n){"use strict";n.r(e),n.d(e,"audit",(function(){return s})),n.d(e,"auditTime",(function(){return d})),n.d(e,"buffer",(function(){return h})),n.d(e,"bufferCount",(function(){return b})),n.d(e,"bufferTime",(function(){return _})),n.d(e,"bufferToggle",(function(){return T})),n.d(e,"bufferWhen",(function(){return k})),n.d(e,"catchError",(function(){return N})),n.d(e,"combineAll",(function(){return G})),n.d(e,"combineLatest",(function(){return Y})),n.d(e,"concat",(function(){return W})),n.d(e,"concatAll",(function(){return q.a})),n.d(e,"concatMap",(function(){return H})),n.d(e,"concatMapTo",(function(){return $})),n.d(e,"count",(function(){return K})),n.d(e,"debounce",(function(){return Q})),n.d(e,"debounceTime",(function(){return nt})),n.d(e,"defaultIfEmpty",(function(){return st})),n.d(e,"delay",(function(){return dt})),n.d(e,"delayWhen",(function(){return bt})),n.d(e,"dematerialize",(function(){return _t})),n.d(e,"distinct",(function(){return St})),n.d(e,"distinctUntilChanged",(function(){return jt})),n.d(e,"distinctUntilKeyChanged",(function(){return Lt})),n.d(e,"elementAt",(function(){return zt})),n.d(e,"endWith",(function(){return Bt})),n.d(e,"every",(function(){return Wt})),n.d(e,"exhaust",(function(){return Ht})),n.d(e,"exhaustMap",(function(){return Zt})),n.d(e,"expand",(function(){return ee})),n.d(e,"filter",(function(){return kt.a})),n.d(e,"finalize",(function(){return ie})),n.d(e,"find",(function(){return ae})),n.d(e,"findIndex",(function(){return le})),n.d(e,"first",(function(){return he})),n.d(e,"groupBy",(function(){return fe.b})),n.d(e,"ignoreElements",(function(){return pe})),n.d(e,"isEmpty",(function(){return ge})),n.d(e,"last",(function(){return Ee})),n.d(e,"map",(function(){return Jt.a})),n.d(e,"mapTo",(function(){return Se})),n.d(e,"materialize",(function(){return je})),n.d(e,"max",(function(){return De})),n.d(e,"merge",(function(){return Re})),n.d(e,"mergeAll",(function(){return Ve.a})),n.d(e,"mergeMap",(function(){return X.a})),n.d(e,"flatMap",(function(){return X.a})),n.d(e,"mergeMapTo",(function(){return Fe})),n.d(e,"mergeScan",(function(){return Ge})),n.d(e,"min",(function(){return Ye})),n.d(e,"multicast",(function(){return We})),n.d(e,"observeOn",(function(){return Xe.b})),n.d(e,"onErrorResumeNext",(function(){return He})),n.d(e,"pairwise",(function(){return Je})),n.d(e,"partition",(function(){return en})),n.d(e,"pluck",(function(){return nn})),n.d(e,"publish",(function(){return sn})),n.d(e,"publishBehavior",(function(){return un})),n.d(e,"publishLast",(function(){return ln})),n.d(e,"publishReplay",(function(){return hn})),n.d(e,"race",(function(){return pn})),n.d(e,"reduce",(function(){return Ie})),n.d(e,"repeat",(function(){return vn})),n.d(e,"repeatWhen",(function(){return mn})),n.d(e,"retry",(function(){return _n})),n.d(e,"retryWhen",(function(){return Sn})),n.d(e,"refCount",(function(){return jn.a})),n.d(e,"sample",(function(){return Pn})),n.d(e,"sampleTime",(function(){return Mn})),n.d(e,"scan",(function(){return Le})),n.d(e,"sequenceEqual",(function(){return Dn})),n.d(e,"share",(function(){return Gn})),n.d(e,"shareReplay",(function(){return Un})),n.d(e,"single",(function(){return zn})),n.d(e,"skip",(function(){return Wn})),n.d(e,"skipLast",(function(){return Hn})),n.d(e,"skipUntil",(function(){return Jn})),n.d(e,"skipWhile",(function(){return tr})),n.d(e,"startWith",(function(){return rr})),n.d(e,"subscribeOn",(function(){return ar})),n.d(e,"switchAll",(function(){return hr})),n.d(e,"switchMap",(function(){return cr})),n.d(e,"switchMapTo",(function(){return fr})),n.d(e,"take",(function(){return Ft})),n.d(e,"takeLast",(function(){return we})),n.d(e,"takeUntil",(function(){return pr})),n.d(e,"takeWhile",(function(){return gr})),n.d(e,"tap",(function(){return xr})),n.d(e,"throttle",(function(){return Cr})),n.d(e,"throttleTime",(function(){return Tr})),n.d(e,"throwIfEmpty",(function(){return It})),n.d(e,"timeInterval",(function(){return Ir})),n.d(e,"timeout",(function(){return Ur})),n.d(e,"timeoutWith",(function(){return Rr})),n.d(e,"timestamp",(function(){return zr})),n.d(e,"toArray",(function(){return Wr})),n.d(e,"window",(function(){return qr})),n.d(e,"windowCount",(function(){return $r})),n.d(e,"windowTime",(function(){return Zr})),n.d(e,"windowToggle",(function(){return oi})),n.d(e,"windowWhen",(function(){return ui})),n.d(e,"withLatestFrom",(function(){return di})),n.d(e,"zip",(function(){return vi})),n.d(e,"zipAll",(function(){return bi}));var r=n(0),i=n(4),o=n(3);function s(t){return function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.durationSelector))},t}(),u=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=Object(o.a)(this,e);!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,n,r){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(i.a),c=n(8),l=n(67);function d(t,e){return void 0===e&&(e=c.a),s((function(){return Object(l.a)(t,e)}))}function h(t){return function(e){return e.lift(new f(t))}}var f=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new p(t,this.closingNotifier))},t}(),p=function(t){function e(e,n){var r=t.call(this,e)||this;return r.buffer=[],r.add(Object(o.a)(r,n)),r}return r.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(i.a),v=n(1);function b(t,e){return void 0===e&&(e=null),function(n){return n.lift(new g(t,e))}}var g=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?y:m}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),m=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return r.a(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(v.a),y=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.bufferSize=n,i.startBufferEvery=r,i.buffers=[],i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,r=this.buffers,i=this.count;this.count++,i%n==0&&r.push([]);for(var o=r.length;o--;){var s=r[o];s.push(t),s.length===e&&(r.splice(o,1),this.destination.next(s))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},e}(v.a),w=n(10);function _(t){var e=arguments.length,n=c.a;Object(w.a)(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new x(t,r,i,n))}}var x=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new S(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),E=function(){return function(){this.buffer=[]}}(),S=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var a=s.openContext();if(s.timespanOnly=null==r||r<0,s.timespanOnly){var u={subscriber:s,context:a,bufferTimeSpan:n};s.add(a.closeAction=o.schedule(O,n,u))}else{var c={subscriber:s,context:a},l={bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:o};s.add(a.closeAction=o.schedule(j,n,c)),s.add(o.schedule(C,r,l))}return s}return r.a(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,i=0;i<r;i++){var o=n[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(O,n,r))}},e.prototype.openContext=function(){var t=new E;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(v.a);function O(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function C(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,i=t.scheduler,o=r.openContext();r.closed||(r.add(o.closeAction=i.schedule(j,n,{subscriber:r,context:o})),this.schedule(t,e))}function j(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var P=n(5);function T(t,e){return function(n){return n.lift(new L(t,e))}}var L=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new M(t,this.openings,this.closingSelector))},t}(),M=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(Object(o.a)(i,n)),i}return r.a(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new P.a,r={buffer:[],subscription:n};e.push(r);var i=Object(o.a)(this,t,r);!i||i.closed?this.closeBuffer(r):(i.context=r,this.add(i),n.add(i))},e}(i.a);function k(t){return function(e){return e.lift(new A(t))}}var A=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new I(t,this.closingSelector))},t}(),I=function(t){function e(e,n){var r=t.call(this,e)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return r.a(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,n,r,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e,n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{e=(0,this.closingSelector)()}catch(t){return this.error(t)}t=new P.a,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(Object(o.a)(this,e)),this.subscribing=!1},e}(i.a),D=n(13);function N(t){return function(e){var n=new R(t),r=e.lift(n);return n.caught=r}}var R=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new V(t,this.selector,this.caught))},t}(),V=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var r=new D.a(this,void 0,void 0);this.add(r);var i=Object(o.a)(this,n,void 0,void 0,r);i!==r&&this.add(i)}},e}(i.a),F=n(46);function G(t){return function(e){return e.lift(new F.a(t))}}var U=n(7),z=n(12);function Y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&Object(U.a)(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(Object(z.a)([e].concat(t)),new F.a(n))}}var B=n(34);function W(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(B.a.apply(void 0,[e].concat(t)))}}var q=n(64),X=n(23);function H(t,e){return Object(X.a)(t,e,1)}function $(t,e){return H((function(){return t}),e)}function K(t){return function(e){return e.lift(new J(t,e))}}var J=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Z(t,this.predicate,this.source))},t}(),Z=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.count=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(v.a);function Q(t){return function(e){return e.lift(new tt(t))}}var tt=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new et(t,this.durationSelector))},t}(),et=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r.durationSubscription=null,r}return r.a(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=Object(o.a)(this,e))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=null,n.unsubscribe(),this.remove(n)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(i.a);function nt(t,e){return void 0===e&&(e=c.a),function(n){return n.lift(new rt(t,e))}}var rt=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new it(t,this.dueTime,this.scheduler))},t}(),it=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ot,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(v.a);function ot(t){t.debouncedNext()}function st(t){return void 0===t&&(t=null),function(e){return e.lift(new at(t))}}var at=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new ut(t,this.defaultValue))},t}(),ut=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return r.a(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(v.a);function ct(t){return t instanceof Date&&!isNaN(+t)}var lt=n(18);function dt(t,e){void 0===e&&(e=c.a);var n=ct(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new ht(n,e))}}var ht=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new ft(t,this.delay,this.scheduler))},t}(),ft=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.delay=n,i.scheduler=r,i.queue=[],i.active=!1,i.errored=!1,i}return r.a(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,i=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var o=Math.max(0,n[0].time-r.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new pt(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(lt.a.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(lt.a.createComplete()),this.unsubscribe()},e}(v.a),pt=function(){return function(t,e){this.time=t,this.notification=e}}(),vt=n(2);function bt(t,e){return e?function(n){return new yt(n,e).lift(new gt(t))}:function(e){return e.lift(new gt(t))}}var gt=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new mt(t,this.delayDurationSelector))},t}(),mt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var n=Object(o.a)(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(i.a),yt=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subscriptionDelay=n,r}return r.a(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new wt(t,this.source))},e}(vt.a),wt=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return r.a(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(v.a);function _t(){return function(t){return t.lift(new xt)}}var xt=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Et(t))},t}(),Et=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(v.a);function St(t,e){return function(n){return n.lift(new Ot(t,e))}}var Ot=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new Ct(t,this.keySelector,this.flushes))},t}(),Ct=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=n,i.values=new Set,r&&i.add(Object(o.a)(i,r)),i}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){return void n.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(i.a);function jt(t,e){return function(n){return n.lift(new Pt(t,e))}}var Pt=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new Tt(t,this.compare,this.keySelector))},t}(),Tt=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.keySelector=r,i.hasKey=!1,"function"==typeof n&&(i.compare=n),i}return r.a(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e;try{var n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(v.a);function Lt(t,e){return jt((function(n,r){return e?e(n[t],r[t]):n[t]===r[t]}))}var Mt=n(24),kt=n(17),At=n(28);function It(t){return void 0===t&&(t=Rt),function(e){return e.lift(new Dt(t))}}var Dt=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new Nt(t,this.errorFactory))},t}(),Nt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return r.a(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(v.a);function Rt(){return new At.a}var Vt=n(11);function Ft(t){return function(e){return 0===t?Object(Vt.b)():e.lift(new Gt(t))}}var Gt=function(){function t(t){if(this.total=t,this.total<0)throw new Mt.a}return t.prototype.call=function(t,e){return e.subscribe(new Ut(t,this.total))},t}(),Ut=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(v.a);function zt(t,e){if(t<0)throw new Mt.a;var n=arguments.length>=2;return function(r){return r.pipe(Object(kt.a)((function(e,n){return n===t})),Ft(1),n?st(e):It((function(){return new Mt.a})))}}var Yt=n(36);function Bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return Object(B.a)(e,Yt.a.apply(void 0,t))}}function Wt(t,e){return function(n){return n.lift(new qt(t,e,n))}}var qt=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new Xt(t,this.predicate,this.thisArg,this.source))},t}(),Xt=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return r.a(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(v.a);function Ht(){return function(t){return t.lift(new $t)}}var $t=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Kt(t))},t}(),Kt=function(t){function e(e){var n=t.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return r.a(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(Object(o.a)(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.a),Jt=n(9);function Zt(t,e){return e?function(n){return n.pipe(Zt((function(n,r){return Object(z.a)(t(n,r)).pipe(Object(Jt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Qt(t))}}var Qt=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new te(t,this.project))},t}(),te=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new D.a(this,e,n),i=this.destination;i.add(r);var s=Object(o.a)(this,t,void 0,void 0,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(i.a);function ee(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new ne(t,e,n))}}var ne=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new re(t,this.project,this.concurrent,this.scheduler))},t}(),re=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return r.a(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,i=t.index;e.subscribeToProjection(n,r,i)},e.prototype._next=function(t){var n=this.destination;if(n.closed)this._complete();else{var r=this.index++;if(this.active<this.concurrent){n.next(t);try{var i=(0,this.project)(t,r);if(this.scheduler){var o={subscriber:this,result:i,value:t,index:r};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(i,t,r)}catch(t){n.error(t)}}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(Object(o.a)(this,t,e,n))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(i.a);function ie(t){return function(e){return e.lift(new oe(t))}}var oe=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new se(t,this.callback))},t}(),se=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new P.a(n)),r}return r.a(e,t),e}(v.a);function ae(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(n){return n.lift(new ue(t,n,!1,e))}}var ue=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new ce(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),ce=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.predicate=n,s.source=r,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(v.a);function le(t,e){return function(n){return n.lift(new ue(t,n,!0,e))}}var de=n(16);function he(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(kt.a)((function(e,n){return t(e,n,r)})):de.a,Ft(1),n?st(e):It((function(){return new At.a})))}}var fe=n(58);function pe(){return function(t){return t.lift(new ve)}}var ve=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new be(t))},t}(),be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e.prototype._next=function(t){},e}(v.a);function ge(){return function(t){return t.lift(new me)}}var me=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ye(t))},t}(),ye=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(v.a);function we(t){return function(e){return 0===t?Object(Vt.b)():e.lift(new _e(t))}}var _e=function(){function t(t){if(this.total=t,this.total<0)throw new Mt.a}return t.prototype.call=function(t,e){return e.subscribe(new xe(t,this.total))},t}(),xe=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(v.a);function Ee(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Object(kt.a)((function(e,n){return t(e,n,r)})):de.a,we(1),n?st(e):It((function(){return new At.a})))}}function Se(t){return function(e){return e.lift(new Oe(t))}}var Oe=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new Ce(t,this.value))},t}(),Ce=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return r.a(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(v.a);function je(){return function(t){return t.lift(new Pe)}}var Pe=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Te(t))},t}(),Te=function(t){function e(e){return t.call(this,e)||this}return r.a(e,t),e.prototype._next=function(t){this.destination.next(lt.a.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(lt.a.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(lt.a.createComplete()),t.complete()},e}(v.a);function Le(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Me(t,e,n))}}var Me=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new ke(t,this.accumulator,this.seed,this.hasSeed))},t}(),ke=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return r.a(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(v.a),Ae=n(38);function Ie(t,e){return arguments.length>=2?function(n){return Object(Ae.a)(Le(t,e),we(1),st(e))(n)}:function(e){return Object(Ae.a)(Le((function(e,n,r){return t(e,n,r+1)})),we(1))(e)}}function De(t){return Ie("function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}var Ne=n(65);function Re(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(Ne.a.apply(void 0,[e].concat(t)))}}var Ve=n(47);function Fe(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?Object(X.a)((function(){return t}),e,n):("number"==typeof e&&(n=e),Object(X.a)((function(){return t}),n))}function Ge(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new Ue(t,e,n))}}var Ue=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new ze(t,this.accumulator,this.seed,this.concurrent))},t}(),ze=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o.acc=r,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return r.a(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,t,e)}catch(t){return n.error(t)}this.active++,this._innerSub(r,t,e)}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,n){var r=new D.a(this,e,n),i=this.destination;i.add(r);var s=Object(o.a)(this,t,void 0,void 0,r);s!==r&&i.add(s)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(i.a);function Ye(t){return Ie("function"==typeof t?function(e,n){return t(e,n)<0?e:n}:function(t,e){return t<e?t:e})}var Be=n(60);function We(t,e){return function(n){var r;if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new qe(r,e));var i=Object.create(n,Be.b);return i.source=n,i.subjectFactory=r,i}}var qe=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(t);return i.add(e.subscribe(r)),i},t}(),Xe=n(62);function He(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&Object(U.a)(t[0])&&(t=t[0]),function(e){return e.lift(new $e(t))}}var $e=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new Ke(t,this.nextSources))},t}(),Ke=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.nextSources=n,r}return r.a(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new D.a(this,void 0,void 0),n=this.destination;n.add(e);var r=Object(o.a)(this,t,void 0,void 0,e);r!==e&&n.add(r)}else this.destination.complete()},e}(i.a);function Je(){return function(t){return t.lift(new Ze)}}var Ze=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new Qe(t))},t}(),Qe=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return r.a(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(v.a),tn=n(74);function en(t,e){return function(n){return[Object(kt.a)(t,e)(n),Object(kt.a)(Object(tn.a)(t,e))(n)]}}function nn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Object(Jt.a)(rn(t,n))(e)}}function rn(t,e){return function(n){for(var r=n,i=0;i<e;i++){var o=r[t[i]];if(void 0===o)return;r=o}return r}}var on=n(6);function sn(t){return t?We((function(){return new on.a}),t):We(new on.a)}var an=n(61);function un(t){return function(e){return We(new an.a(t))(e)}}var cn=n(31);function ln(){return function(t){return We(new cn.a)(t)}}var dn=n(44);function hn(t,e,n,r){n&&"function"!=typeof n&&(r=n);var i="function"==typeof n?n:void 0,o=new dn.a(t,e,r);return function(t){return We((function(){return o}),i)(t)}}var fn=n(66);function pn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&Object(U.a)(t[0])&&(t=t[0]),e.lift.call(fn.a.apply(void 0,[e].concat(t)))}}function vn(t){return void 0===t&&(t=-1),function(e){return 0===t?Object(Vt.b)():t<0?e.lift(new bn(-1,e)):e.lift(new bn(t-1,e))}}var bn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new gn(t,this.count,this.source))},t}(),gn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.a(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(v.a);function mn(t){return function(e){return e.lift(new yn(t))}}var yn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new wn(t,this.notifier,e))},t}(),wn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i.sourceIsBeingSubscribedTo=!0,i}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){var e;this.notifications=new on.a;try{e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=Object(o.a)(this,e)},e}(i.a);function _n(t){return void 0===t&&(t=-1),function(e){return e.lift(new xn(t,e))}}var xn=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new En(t,this.count,this.source))},t}(),En=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(v.a);function Sn(t){return function(e){return e.lift(new On(t,e))}}var On=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Cn(t,this.notifier,this.source))},t}(),Cn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.notifier=n,i.source=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,i=this.retriesSubscription;if(r)this.errors=null,this.retriesSubscription=null;else{n=new on.a;try{r=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}i=Object(o.a)(this,r)}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=i,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,n,r,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},e}(i.a),jn=n(43);function Pn(t){return function(e){return e.lift(new Tn(t))}}var Tn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Ln(t),r=e.subscribe(n);return r.add(Object(o.a)(n,this.notifier)),r},t}(),Ln=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return r.a(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,n,r,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(i.a);function Mn(t,e){return void 0===e&&(e=c.a),function(n){return n.lift(new kn(t,e))}}var kn=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new An(t,this.period,this.scheduler))},t}(),An=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.period=n,i.scheduler=r,i.hasValue=!1,i.add(r.schedule(In,n,{subscriber:i,period:n})),i}return r.a(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(v.a);function In(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function Dn(t,e){return function(n){return n.lift(new Nn(t,e))}}var Nn=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new Rn(t,this.compareTo,this.comparator))},t}(),Rn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.compareTo=n,i.comparator=r,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(n.subscribe(new Vn(e,i))),i}return r.a(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,n=this.comparator;t.length>0&&e.length>0;){var r=t.shift(),i=e.shift(),o=!1;try{o=n?n(r,i):r===i}catch(t){this.destination.error(t)}o||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(v.a),Vn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return r.a(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(v.a);function Fn(){return new on.a}function Gn(){return function(t){return Object(jn.a)()(We(Fn)(t))}}function Un(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){return t.lift(function(t){var e,n,r=t.bufferSize,i=void 0===r?Number.POSITIVE_INFINITY:r,o=t.windowTime,s=void 0===o?Number.POSITIVE_INFINITY:o,a=t.refCount,u=t.scheduler,c=0,l=!1,d=!1;return function(t){c++,e&&!l||(l=!1,e=new dn.a(i,s,u),n=t.subscribe({next:function(t){e.next(t)},error:function(t){l=!0,e.error(t)},complete:function(){d=!0,n=void 0,e.complete()}}));var r=e.subscribe(this);this.add((function(){c--,r.unsubscribe(),n&&!d&&a&&0===c&&(n.unsubscribe(),n=void 0,e=void 0)}))}}(r))}}function zn(t){return function(e){return e.lift(new Yn(t,e))}}var Yn=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new Bn(t,this.predicate,this.source))},t}(),Bn=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.source=r,i.seenValue=!1,i.index=0,i}return r.a(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new At.a)},e}(v.a);function Wn(t){return function(e){return e.lift(new qn(t))}}var qn=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new Xn(t,this.total))},t}(),Xn=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return r.a(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(v.a);function Hn(t){return function(e){return e.lift(new $n(t))}}var $n=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new Mt.a}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new v.a(t)):e.subscribe(new Kn(t,this._skipCount))},t}(),Kn=function(t){function e(e,n){var r=t.call(this,e)||this;return r._skipCount=n,r._count=0,r._ring=new Array(n),r}return r.a(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,i=this._ring,o=i[r];i[r]=t,this.destination.next(o)}},e}(v.a);function Jn(t){return function(e){return e.lift(new Zn(t))}}var Zn=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Qn(t,this.notifier))},t}(),Qn=function(t){function e(e,n){var r=t.call(this,e)||this;r.hasValue=!1;var i=new D.a(r,void 0,void 0);r.add(i),r.innerSubscription=i;var s=Object(o.a)(r,n,void 0,void 0,i);return s!==i&&(r.add(s),r.innerSubscription=s),r}return r.a(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(t,e,n,r,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(i.a);function tr(t){return function(e){return e.lift(new er(t))}}var er=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new nr(t,this.predicate))},t}(),nr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(v.a);function rr(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return Object(w.a)(n)?(t.pop(),function(e){return Object(B.a)(t,e,n)}):function(e){return Object(B.a)(t,e)}}var ir=n(53),or=n(33),sr=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=ir.a);var i=t.call(this)||this;return i.source=e,i.delayTime=n,i.scheduler=r,(!Object(or.a)(n)||n<0)&&(i.delayTime=0),r&&"function"==typeof r.schedule||(i.scheduler=ir.a),i}return r.a(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=ir.a),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(vt.a);function ar(t,e){return void 0===e&&(e=0),function(n){return n.lift(new ur(t,e))}}var ur=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new sr(e,this.delay,this.scheduler).subscribe(t)},t}();function cr(t,e){return"function"==typeof e?function(n){return n.pipe(cr((function(n,r){return Object(z.a)(t(n,r)).pipe(Object(Jt.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new lr(t))}}var lr=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new dr(t,this.project))},t}(),dr=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new D.a(this,e,n),s=this.destination;s.add(i),this.innerSubscription=Object(o.a)(this,t,void 0,void 0,i),this.innerSubscription!==i&&s.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(i.a);function hr(){return cr(de.a)}function fr(t,e){return e?cr((function(){return t}),e):cr((function(){return t}))}function pr(t){return function(e){return e.lift(new vr(t))}}var vr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new br(t),r=Object(o.a)(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),br=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(i.a);function gr(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new mr(t,e))}}var mr=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new yr(t,this.predicate,this.inclusive))},t}(),yr=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.inclusive=r,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void n.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;Boolean(e)?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(v.a),wr=n(20),_r=n(25);function xr(t,e,n){return function(r){return r.lift(new Er(t,e,n))}}var Er=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Sr(t,this.nextOrObserver,this.error,this.complete))},t}(),Sr=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=wr.a,o._tapError=wr.a,o._tapComplete=wr.a,o._tapError=r||wr.a,o._tapComplete=i||wr.a,Object(_r.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||wr.a,o._tapError=n.error||wr.a,o._tapComplete=n.complete||wr.a),o}return r.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(v.a),Or={leading:!0,trailing:!1};function Cr(t,e){return void 0===e&&(e=Or),function(n){return n.lift(new jr(t,e.leading,e.trailing))}}var jr=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new Pr(t,this.durationSelector,this.leading,this.trailing))},t}(),Pr=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=n,o._leading=r,o._trailing=i,o._hasValue=!1,o}return r.a(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=Object(o.a)(this,e))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},e.prototype.notifyNext=function(t,e,n,r,i){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(i.a);function Tr(t,e,n){return void 0===e&&(e=c.a),void 0===n&&(n=Or),function(r){return r.lift(new Lr(t,e,n.leading,n.trailing))}}var Lr=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new Mr(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),Mr=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.duration=n,s.scheduler=r,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return r.a(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(kr,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(v.a);function kr(t){t.subscriber.clearThrottle()}var Ar=n(48);function Ir(t){return void 0===t&&(t=c.a),function(e){return Object(Ar.a)((function(){return e.pipe(Le((function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}}),{current:t.now(),value:void 0,last:void 0}),Object(Jt.a)((function(t){var e=t.current,n=t.last,r=t.value;return new Dr(r,e-n)})))}))}}var Dr=function(){return function(t,e){this.value=t,this.interval=e}}(),Nr=n(63);function Rr(t,e,n){return void 0===n&&(n=c.a),function(r){var i=ct(t),o=i?+t-n.now():Math.abs(t);return r.lift(new Vr(o,i,e,n))}}var Vr=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new Fr(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),Fr=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return r.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(o.a)(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(i.a),Gr=n(45);function Ur(t,e){return void 0===e&&(e=c.a),Rr(t,Object(Gr.a)(new Nr.a),e)}function zr(t){return void 0===t&&(t=c.a),Object(Jt.a)((function(e){return new Yr(e,t.now())}))}var Yr=function(){return function(t,e){this.value=t,this.timestamp=e}}();function Br(t,e,n){return 0===n?[e]:(t.push(e),t)}function Wr(){return Ie(Br,[])}function qr(t){return function(e){return e.lift(new Xr(t))}}var Xr=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new Hr(t),r=e.subscribe(n);return r.closed||n.add(Object(o.a)(n,this.windowBoundaries)),r},t}(),Hr=function(t){function e(e){var n=t.call(this,e)||this;return n.window=new on.a,e.next(n.window),n}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new on.a;e.next(n)},e}(i.a);function $r(t,e){return void 0===e&&(e=0),function(n){return n.lift(new Kr(t,e))}}var Kr=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new Jr(t,this.windowSize,this.startWindowEvery))},t}(),Jr=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=n,i.startWindowEvery=r,i.windows=[new on.a],i.count=0,e.next(i.windows[0]),i}return r.a(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(t);var a=this.count-r+1;if(a>=0&&a%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var u=new on.a;i.push(u),n.next(u)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(v.a);function Zr(t){var e=c.a,n=null,r=Number.POSITIVE_INFINITY;return Object(w.a)(arguments[3])&&(e=arguments[3]),Object(w.a)(arguments[2])?e=arguments[2]:Object(or.a)(arguments[2])&&(r=arguments[2]),Object(w.a)(arguments[1])?e=arguments[1]:Object(or.a)(arguments[1])&&(n=arguments[1]),function(i){return i.lift(new Qr(t,n,r,e))}}var Qr=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new ei(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),ti=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return r.a(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(on.a),ei=function(t){function e(e,n,r,i,o){var s=t.call(this,e)||this;s.destination=e,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var a=s.openWindow();if(null!==r&&r>=0){var u={subscriber:s,window:a,context:null},c={windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:o};s.add(o.schedule(ii,n,u)),s.add(o.schedule(ri,r,c))}else{var l={subscriber:s,window:a,windowTimeSpan:n};s.add(o.schedule(ni,n,l))}return s}return r.a(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var i=e[r];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new ti;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(v.a);function ni(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function ri(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,i=t.windowCreationInterval,o=n.openWindow(),s={action:this,subscription:null},a={subscriber:n,window:o,context:s};s.subscription=r.schedule(ii,e,a),this.add(s.subscription),this.schedule(t,i)}function ii(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function oi(t,e){return function(n){return n.lift(new si(t,e))}}var si=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new ai(t,this.openings,this.closingSelector))},t}(),ai=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.openings=n,i.closingSelector=r,i.contexts=[],i.add(i.openSubscription=Object(o.a)(i,n,n)),i}return r.a(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,i=-1;++i<r;){var o=n[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var i=e[r];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,i){if(t===this.openings){var s=void 0;try{s=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var a=new on.a,u=new P.a,c={window:a,subscription:u};this.contexts.push(c);var l=Object(o.a)(this,s,c);l.closed?this.closeWindow(this.contexts.length-1):(l.context=c,u.add(l)),this.destination.next(a)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,i=n.subscription;e.splice(t,1),r.complete(),i.unsubscribe()}},e}(i.a);function ui(t){return function(e){return e.lift(new ci(t))}}var ci=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new li(t,this.closingSelector))},t}(),li=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.closingSelector=n,r.openWindow(),r}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var n,r=this.window=new on.a;this.destination.next(r);try{n=(0,this.closingSelector)()}catch(t){return this.destination.error(t),void this.window.error(t)}this.add(this.closingNotification=Object(o.a)(this,n))},e}(i.a);function di(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;"function"==typeof t[t.length-1]&&(n=t.pop());var r=t;return e.lift(new hi(r,n))}}var hi=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new fi(t,this.observables,this.project))},t}(),fi=function(t){function e(e,n,r){var i=t.call(this,e)||this;i.observables=n,i.project=r,i.toRespond=[];var s=n.length;i.values=new Array(s);for(var a=0;a<s;a++)i.toRespond.push(a);for(a=0;a<s;a++){var u=n[a];i.add(Object(o.a)(i,u,u,a))}return i}return r.a(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.values[n]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(n);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.a),pi=n(49);function vi(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(pi.b.apply(void 0,[e].concat(t)))}}function bi(t){return function(e){return e.lift(new pi.a(t))}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return l}));var r=n(0),i=n(6),o=n(2),s=n(1),a=n(5),u=n(43),c=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return r.a(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new a.a).add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=a.a.EMPTY)),t},e.prototype.refCount=function(){return Object(u.a)()(this)},e}(o.a),l=function(){var t=c.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),d=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return r.a(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(i.b);s.a},function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),i=n(6),o=n(22),s=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return r.a(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new o.a;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(i.a)},function(t,e,n){"use strict";n.d(e,"b",(function(){return s})),n.d(e,"a",(function(){return u}));var r=n(0),i=n(1),o=n(18);function s(t,e){return void 0===e&&(e=0),function(n){return n.lift(new a(t,e))}}var a=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new u(t,this.scheduler,this.delay))},t}(),u=function(t){function e(e,n,r){void 0===r&&(r=0);var i=t.call(this,e)||this;return i.scheduler=n,i.delay=r,i}return r.a(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new c(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(o.a.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(o.a.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(o.a.createComplete()),this.unsubscribe()},e}(i.a),c=function(){return function(t,e){this.notification=t,this.destination=e}}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(47);function i(){return Object(r.a)(1)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),i=n(10),o=n(47),s=n(29);function a(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,a=null,u=t[t.length-1];return Object(i.a)(u)?(a=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof u&&(n=t.pop()),null===a&&1===t.length&&t[0]instanceof r.a?t[0]:Object(o.a)(n)(Object(s.a)(t,a))}},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(0),i=n(7),o=n(29),s=n(4),a=n(3);function u(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!Object(i.a)(t[0]))return t[0];t=t[0]}return Object(o.a)(t,void 0).lift(new c)}var c=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new l(t))},t}(),l=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return r.a(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=t[n],i=Object(a.a)(this,r,r,n);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,n,r,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==n){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(s.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var r=n(2),i=n(8),o=n(33),s=n(10);function a(t,e,n){void 0===t&&(t=0);var a=-1;return Object(o.a)(e)?a=Number(e)<1?1:Number(e):Object(s.a)(e)&&(n=e),Object(s.a)(n)||(n=i.a),new r.a((function(e){var r=Object(o.a)(t)?t:+t-n.now();return n.schedule(u,r,{index:0,period:a,subscriber:e})}))}function u(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(2),i=n(5),o=n(21);var s=n(52),a=n(19);var u=n(73),c=n(72);function l(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a((function(n){var r=new i.a;return r.add(e.schedule((function(){var i=t[o.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(u.a)(t))return function(t,e){return new r.a((function(n){var r=new i.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(c.a)(t))return Object(s.a)(t,e);if(function(t){return t&&"function"==typeof t[a.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,o=new i.a;return o.add((function(){r&&"function"==typeof r.return&&r.return()})),o.add(e.schedule((function(){r=t[a.a](),o.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(t){return void n.error(t)}e?n.complete():(n.next(t),this.schedule())}})))}))),o}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(0),i=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return r.a(e,t),e.prototype.schedule=function(e,n){return void 0===n&&(n=0),n>0?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(n(32).a),o=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r.a(e,t),e}(n(30).a))(i)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(0),i=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return r.a(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(n(5).a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}}},function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t}},function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.showTurnNotification=e.startGame=e.setGlobalPlayer=e.updateMainLayout=void 0,n(89);var i=n(42),o=n(59),s=n(81),a=n(82),u=n(77),c=n(103);u.getUrlSearch();var l,d=new c.GameEngine;d.events.afterGameStart.subscribe((function(){s.firebaseUpdateState(d.gameStateAsJSON).then((function(){e.updateMainLayout()}))})),d.events.beforeTurn.subscribe((function(t){s.firebaseUpdateState(d.gameStateAsJSON).then((function(){a.drawTurn(d,t.player)}))})),d.events.afterPlayCard.subscribe((function(){s.firebaseUpdateState(d.gameStateAsJSON).then((function(){a.drawPlayersCards(d,l.id),a.drawStack(d)}))})),d.events.afterTakeCards.subscribe((function(){s.firebaseUpdateState(d.gameStateAsJSON).then((function(){a.drawPlayersCards(d,l.id),a.drawTurn(d,d.playerTurn)}))})),d.events.afterYellUno.subscribe((function(){s.firebaseUpdateState(d.gameStateAsJSON)})),d.events.gameEnd.subscribe((function(t){s.firebaseUpdateState(d.gameStateAsJSON).then((function(){u.showInfoAlert("El jugador "+t.winner.name+" ha ganado!! Su puntaje es: "+t.score),s.setWinner(t.winner.name,t.score)}))}));var h,f=function(t){return document.getElementById(t)},p=function(t){return i.fromEvent(f(t),"click")};p("button-take").pipe(o.filter((function(){var t;return(null===(t=d.playerTurn)||void 0===t?void 0:t.id)===l.id})),o.switchMap((function(){return d.takeCard()}))).subscribe(),p("button-uno").pipe(o.switchMap((function(){return d.uno(l.id)}))).subscribe(),p("button-send-message").pipe(o.switchMap((function(){return s.createAndSendMessage(l)}))).subscribe(),(h="input-write-message",i.fromEvent(f(h),"keyup").pipe(o.filter((function(t){return 13==t.keyCode})))).pipe(o.switchMap((function(){return s.createAndSendMessage(l)}))).subscribe(),e.updateMainLayout=function(){a.drawPlayersCards(d,l.id),a.drawStack(d),a.drawTurn(d,d.playerTurn),e.showTurnNotification()},e.setGlobalPlayer=function(t){l=t},e.startGame=function(){d.start({randomTakeDeckCard:!1}).subscribe((function(){}),(function(t){u.showErrorAlert(t)}))},e.showTurnNotification=function(){window.Notification?window.Notification.requestPermission().then((function(){var t;if("granted"===Notification.permission&&(null===(t=d.playerTurn)||void 0===t?void 0:t.id)===l.id){var e=new Notification(l.name+" es tu turno de jugar!",{body:"Tus amigos estan esperando que juegues una carta",tag:"turnNotification",image:"./assets/images/logo2x.png",requireInteraction:!1});setTimeout(e.close.bind(e),5e3)}})):console.log("Las notificaciones no estan disponibles en el equipo")},null===(r=document.getElementById("button-start"))||void 0===r||(r.style.display="block"),p("google-login").pipe(o.first()).subscribe((function(){s.initializeFirebase(d)}))},function(t,e,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}(),s=[];function a(t){for(var e=-1,n=0;n<s.length;n++)if(s[n].identifier===t){e=n;break}return e}function u(t,e){for(var n={},r=[],i=0;i<t.length;i++){var o=t[i],u=e.base?o[0]+e.base:o[0],c=n[u]||0,l="".concat(u," ").concat(c);n[u]=c+1;var d=a(l),h={css:o[1],media:o[2],sourceMap:o[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:l,updater:b(h,e),references:1}),r.push(l)}return r}function c(t){var e=document.createElement("style"),r=t.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(t){e.setAttribute(t,r[t])})),"function"==typeof t.insert)t.insert(e);else{var s=o(t.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(e)}return e}var l,d=(l=[],function(t,e){return l[t]=e,l.filter(Boolean).join("\n")});function h(t,e,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(t.styleSheet)t.styleSheet.cssText=d(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}function f(t,e,n){var r=n.css,i=n.media,o=n.sourceMap;if(i?t.setAttribute("media",i):t.removeAttribute("media"),o&&btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}var p=null,v=0;function b(t,e){var n,r,i;if(e.singleton){var o=v++;n=p||(p=c(e)),r=h.bind(null,n,o,!1),i=h.bind(null,n,o,!0)}else n=c(e),r=f.bind(null,n,e),i=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}t.exports=function(t,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=u(t=t||[],e);return function(t){if(t=t||[],"[object Array]"===Object.prototype.toString.call(t)){for(var r=0;r<n.length;r++){var i=a(n[r]);s[i].references--}for(var o=u(t,e),c=0;c<n.length;c++){var l=a(n[c]);0===s[l].references&&(s[l].updater(),s.splice(l,1))}n=o}}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.showErrorAlert=e.showInfoAlert=e.getUrlSearch=void 0,e.getUrlSearch=function(){var t=window.location.search.replace("?","");return 0===t.length&&(t="room-"+(new Date).getTime(),window.location=window.location+"?"+t),t},e.showInfoAlert=function(t){console.info("showing info alert: "+t),document.getElementById("color-select").innerText=t},e.showErrorAlert=function(t){console.error("showing error alert: "+t),alert(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Card=void 0;var r=n(109),i=n(55),o=function(){function t(t,e,n){if(i.isSpecial(t)&&e)throw new Error('La carta "'+t+'" no puede tener el color "'+e+'"');this.id=n||r.generateUniqueId(),this.sprite=e?t+"--"+e:t,this.value=t,this.color=e}return Object.defineProperty(t.prototype,"score",{get:function(){switch(this.value){case i.Value.PLUS_TWO:case i.Value.SKIP:case i.Value.REVERSE:return 20;case i.Value.WILDCARD:case i.Value.PLUS_FOUR:return 50;case i.Value.ONE:return 1;case i.Value.TWO:return 2;case i.Value.THREE:return 3;case i.Value.FOUR:return 4;case i.Value.FIVE:return 5;case i.Value.SIX:return 6;case i.Value.SEVEN:return 7;case i.Value.EIGHT:return 8;case i.Value.NINE:return 9;case i.Value.ZERO:default:return 0}},enumerable:!1,configurable:!0}),t.prototype.isSpecialCard=function(){return i.isSpecial(this.value)},t.prototype.hasEffects=function(){return this.isSpecialCard()||this.value===i.Value.PLUS_TWO||this.value===i.Value.REVERSE||this.value===i.Value.SKIP},t.prototype.setColor=function(t){this.color=t},t.prototype.isPlayable=function(t){if(this.isSpecialCard())return!0;if(!this.color||!t.color)throw new Error("Ambas cartas deben tener definido un color para poder compararlas");return t.value===this.value||t.color===this.color},t}();e.Card=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameEvents=void 0;var r=n(42),i=n(86),o=function(){function t(){var t;this.events=((t={})[i.GameEvent.AFTER_GAME_START]=new r.Subject,t[i.GameEvent.AFTER_PLAY_CARD]=new r.Subject,t[i.GameEvent.AFTER_TAKE_CARDS]=new r.Subject,t[i.GameEvent.AFTER_YELL_UNO]=new r.Subject,t[i.GameEvent.BEFORE_TURN]=new r.Subject,t[i.GameEvent.GAME_END]=new r.Subject,t[i.GameEvent.CHANGE_COLOR]=new r.Subject,t[i.GameEvent.SKIP]=new r.Subject,t[i.GameEvent.REVERSE]=new r.Subject,t[i.GameEvent.ERROR]=new r.Subject,t)}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},Object.defineProperty(t.prototype,"afterGameStart$",{get:function(){return this.events[i.GameEvent.AFTER_GAME_START].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"afterPlayCard$",{get:function(){return this.events[i.GameEvent.AFTER_PLAY_CARD].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"afterTakeCards$",{get:function(){return this.events[i.GameEvent.AFTER_TAKE_CARDS].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"afterYellUno$",{get:function(){return this.events[i.GameEvent.AFTER_YELL_UNO].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beforeTurn$",{get:function(){return this.events[i.GameEvent.BEFORE_TURN].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameEnd$",{get:function(){return this.events[i.GameEvent.GAME_END].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changeColor$",{get:function(){return this.events[i.GameEvent.CHANGE_COLOR].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skip$",{get:function(){return this.events[i.GameEvent.SKIP].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"reverse$",{get:function(){return this.events[i.GameEvent.REVERSE].asObservable()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"error$",{get:function(){return this.events[i.GameEvent.ERROR].asObservable()},enumerable:!1,configurable:!0}),t.prototype.dispatchAfterGameStart=function(){return this.events[i.GameEvent.AFTER_GAME_START].next()},t.prototype.dispatchAfterPlayCard=function(t){return this.events[i.GameEvent.AFTER_PLAY_CARD].next(t)},t.prototype.dispatchAfterTakeCards=function(t){return this.events[i.GameEvent.AFTER_TAKE_CARDS].next(t)},t.prototype.dispatchAfterYellUno=function(t){return this.events[i.GameEvent.AFTER_YELL_UNO].next(t)},t.prototype.dispatchBeforeTurn=function(t){return this.events[i.GameEvent.BEFORE_TURN].next(t)},t.prototype.dispatchGameEnd=function(t){return this.events[i.GameEvent.GAME_END].next(t)},t.prototype.dispatchChangeColor=function(t){return this.events[i.GameEvent.CHANGE_COLOR].next(t)},t.prototype.dispatchSkip=function(t){return this.events[i.GameEvent.SKIP].next(t)},t.prototype.dispatchReverse=function(t){return this.events[i.GameEvent.REVERSE].next(t)},t.prototype.dispatchError=function(t){return this.events[i.GameEvent.ERROR].next(t)},t}();e.GameEvents=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Constants=void 0,e.Constants={COUNT_CARD_TO_TAKE_WHO_SHOULD_YELL_UNO:2,PENALITY_FOR_YELL_UNO:2,NUMBER_OF_CARD_IN_HAND_ON_START:7}},function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0}),e.createMessage=e.displayMessage=e.displayMessages=e.createAndSendMessage=e.createRoomChat=e.firebaseUpdateState=e.setWinner=e.roomStart=e.roomData$=e.enterToRoom=e.firebaseLogin=e.initializeFirebase=e.db=e.firebase=void 0;var i,o=n(75),s=n(77),a=n(82),u=n(84);e.firebase=window.firebase;var c,l=!1,d="";e.initializeFirebase=function(t){if(i=t,!e.firebase.apps.length){e.firebase.initializeApp({apiKey:"AIzaSyAZX1DilyM9IY01_xFa2pE4ull7FYOsQ00",authDomain:"runox-card.firebaseapp.com",databaseURL:"https://runox-card.firebaseio.com",projectId:"runox-card",storageBucket:"runox-card.appspot.com",messagingSenderId:"608707088831",appId:"1:608707088831:web:f204f1e44046d59d23d10a",measurementId:"G-RVDLEJNBM9"})}e.db=e.firebase.firestore(),e.firebaseLogin().then((function(t){var n;return o.setGlobalPlayer(t),null===(n=document.getElementById("google-login"))||void 0===n||(n.style.display="none"),e.enterToRoom(t)})).then((function(){a.drawStartLayout(i)}))},e.firebaseLogin=function(){return new Promise((function(t,n){var r=e.firebase.auth().currentUser;if(r)return t(new u.Player(r.id,r.name,r.pic));var i=new e.firebase.auth.GoogleAuthProvider;e.firebase.auth().signInWithPopup(i).then((function(e){var n=new u.Player(e.user.email,e.user.displayName,e.user.photoURL);return t(n)})).catch((function(t){return console.error("singIn error: "+t),n()}))}))},e.enterToRoom=function(t){d=s.getUrlSearch();var n=e.db.collection("rooms").doc(d),o=e.db.collection("rooms");return new Promise((function(a,u){n.get().then((function(n){var c,l,h;if(n.exists){var f=n.data();if(t.id===f.playersGroup.players[0].id?null===(c=document.getElementById("button-start"))||void 0===c||(c.style.display="block"):null===(l=document.getElementById("waiting-title"))||void 0===l||(l.style.display="block"),f.playersGroup.players.some((function(e){return e.id===t.id})))console.warn("ya existe el user"),i.gameStateAsJSON.id!==f.id&&i.overrideInternalState(f);else{if(f.start)return s.showInfoAlert("La partida ya ha comenzado"),u();if(f.playersGroup.players.length>5)return s.showInfoAlert("La sala esta llena"),u();i.gameStateAsJSON.id!==f.id&&i.overrideInternalState(f),i.join([t]).subscribe((function(){return e.firebaseUpdateState(i.gameStateAsJSON),a()}),(function(t){s.showErrorAlert(t)}))}e.roomData$(),a()}else{i.join([t]).subscribe((function(){return a()}),(function(t){s.showErrorAlert(t)})),null===(h=document.getElementById("button-start"))||void 0===h||(h.style.display="block");var p=i.gameStateAsJSON;p=JSON.parse(JSON.stringify(p));var v=Object.assign({},r(r({},p),{start:!1,winner:null}));o.doc(d).set(v).then((function(t){return e.roomData$(),a()}))}})).catch((function(t){console.log("Error getting document:",t),u()}))}))},e.roomData$=function(){e.db.collection("rooms").doc(d).onSnapshot({includeMetadataChanges:!0},(function(t){if((c=t.data()).start&&!l){l=!0;var n=document.getElementById("deck"),r=document.getElementById("stack-container"),a=document.getElementById("players-title"),u=document.getElementById("button-uno"),h=document.getElementById("button-start"),f=document.getElementById("waiting-title");n.style.display="flex",r.style.display="flex",a.style.display="block",u.style.display="block",h.style.display="none",f.style.display="none"}if(c.winner&&null!==c.winner&&s.showInfoAlert("El jugador "+c.winner.name+" ha ganado!! Su puntaje es: "+c.winner.score),i.gameStateAsJSON.id===c.id){var p=c.stack.cards[0];!p||"mas-cuatro"!==p.value&&"comodin"!==p.value||s.showInfoAlert("Cambio de color a "+p.color),i.overrideInternalState(c)}o.updateMainLayout(),e.createRoomChat(),e.displayMessages(d)}))},e.roomStart=function(){return e.db.collection("rooms").doc(d).set({start:!0},{merge:!0})},e.setWinner=function(t,n){return e.db.collection("rooms").doc(d).set({winner:{name:t,score:n}},{merge:!0})},e.firebaseUpdateState=function(t){var n=JSON.parse(JSON.stringify(t));return e.db.collection("rooms").doc(d).set(n,{merge:!0})},e.createRoomChat=function(){var t={messages:[]};e.db.collection("chat").doc(d+"-chat").get().then((function(n){var r;n.exists||e.db.collection("chat").doc(d+"-chat").set(t).then((function(){e.displayMessages(d)})),null===(r=document.getElementById("chat-actions"))||void 0===r||(r.style.display="flex")}))},e.createAndSendMessage=function(t){var n=document.getElementById("input-write-message"),r=n.value;n.value=null,e.createMessage(d,t,r)},e.displayMessages=function(t){var n=e.db.collection("chat").doc(t+"-chat").collection("messages").orderBy("timestamp","asc").limit(13);document.getElementById("chat-content").innerHTML="",n.onSnapshot((function(t){t.metadata.hasPendingWrites||t.docChanges().forEach((function(t){if(t.type="added"){var n=t.doc.data();e.displayMessage(n.name,h(n.text),new Date(n.timestamp))}}))}))},e.displayMessage=function(t,e,n){var r=document.getElementById("chat-content");r.innerHTML=r.innerHTML+'<div class="chat-bubble">\n      <div class="chat-bubble-timestamp">'+(null==n?void 0:n.toTimeString())+'</div>\n      <div class="chat-bubble-username">\n        '+t+'\n      </div>\n      <div class="chat-bubble-message">\n        '+e+"\n      </div>\n    </div>",r.scrollTop=r.scrollHeight};var h=function(t){switch(t){case"!runox":return'<img src="/assets/images/logo2x.png" alt="RunoX logo" class="chat-runox-icon">';case"!voluntad":return'<h2 style="color:green">Ponele voluntaaddd!</h2>';case"!2":return'<h2 style="color:darkorange">+2</h2>';case"!4":return'<h2 style="color:red">+4</h2>';case"!not-send!":return'<h3 style="color:red"> mensaje no enviado </h3>';default:return t}};e.createMessage=function(t,n,r){var i=e.db.collection("chat").doc(t+"-chat").collection("messages"),o=Date.now(),s={roomName:t,text:r,name:n.name,timestamp:o};return i.add(s).then((function(){e.displayMessage(n.name,h(r),new Date(o))})).catch((function(t){e.displayMessage(n.name,h("!not-send!"),new Date(o))}))}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.drawStartLayout=e.drawTurn=e.drawPlayersCards=e.drawStack=void 0;var r=n(42),i=n(59),o=n(95),s=n(98),a=n(81),u=n(75),c=n(101),l=n(55),d=n(77),h=document.getElementById("players"),f=document.getElementById("stack"),p=document.getElementById("turn");function v(t,e){for(var n,r;null==p?void 0:p.lastElementChild;)null==p||p.removeChild(null==p?void 0:p.lastElementChild);var i=document.createElement("div");i.setAttribute("id","avatars"),t.players.forEach((function(t){var n=new s.Avatar(t,t.hand.cards.length,e&&t.id===e.id);i.appendChild(n.element)}));var o=document.createElement("div");o.appendChild(i),null==h||h.querySelectorAll(".player-select").forEach((function(t){t.classList.remove("player-select"),t.classList.remove("player-select-button")})),e&&(null===(n=document.getElementById(e.id))||void 0===n||n.classList.add("player-select"),null===(r=document.getElementById(e.id))||void 0===r||r.classList.add("player-select-button")),null==p||p.appendChild(o)}e.drawStack=function(t){if(t.stackCard)if(f){var e=document.getElementById("carta-stack-"+t.stackCard.id);if(null===e||"carta-stack-"+t.stackCard.id!==e.id){var n=document.createElement("div");n.setAttribute("id","carta-stack-"+t.stackCard.id),n.setAttribute("class","carta "+t.stackCard.sprite);var r=Math.floor(20*Math.random())+10;r*=1==Math.floor(2*Math.random())?1:-1,n.style.transform="rotate("+r+"deg)",f.appendChild(n)}}else console.error("No se encontró el elemento #stack")},e.drawPlayersCards=function(t,e){for(;null==h?void 0:h.lastElementChild;)null==h||h.removeChild(null==h?void 0:h.lastElementChild);var n=t.players.find((function(t){return t.id===e})),s=document.createElement("div");s.setAttribute("id",null==n?void 0:n.id),s.setAttribute("class","player");var a=document.createElement("div");a.setAttribute("class","player-cards"),null==n||n.hand.cards.filter((function(t,e){return(null==n?void 0:n.hand.cards.indexOf(t))===e})).forEach((function(t){var e=new o.CardComponent(t.id,t.sprite);a.appendChild(e.element)})),s.appendChild(a),null==h||h.appendChild(s),function(t,e){var n=document.getElementById(e);r.fromEvent(n,"click").pipe(i.filter((function(t){return t.target.classList.contains("carta")})),i.filter((function(){var n;return e===(null===(n=t.playerTurn)||void 0===n?void 0:n.id)})),i.map((function(t){return t.target.id}))).subscribe((function(e){try{null==n||n.querySelectorAll(".carta-selected").forEach((function(t){t.classList.remove("carta-selected")}));var o=document.getElementById(e);null==o||o.classList.add("carta-selected");var s=null==o?void 0:o.querySelector(".button-play-card");r.fromEvent(s,"click").subscribe((function(){var n,o,s=null===(n=t.playerTurn)||void 0===n?void 0:n.hand.cards.find((function(t){return t.id===e}));if(s)if((null==s?void 0:s.value)===l.Value.WILDCARD||(null==s?void 0:s.value)===l.Value.PLUS_FOUR){var a=document.getElementById("player-select-color");a.style.display="block",r.fromEvent(a,"click").pipe(i.filter((function(t){return t.target.classList.value.includes("button-")})),i.map((function(t){return t.target.id})),i.first()).subscribe((function(e){var n;s.setColor(e),a.style.display="none",t.playCard(null===(n=t.playerTurn)||void 0===n?void 0:n.id,s).subscribe((function(){}),(function(t){(null==s?void 0:s.value)!==l.Value.WILDCARD&&(null==s?void 0:s.value)!==l.Value.PLUS_FOUR&&d.showErrorAlert(t)}))}))}else t.playCard(null===(o=t.playerTurn)||void 0===o?void 0:o.id,s).subscribe((function(){}),(function(t){(null==s?void 0:s.value)!==l.Value.WILDCARD&&(null==s?void 0:s.value)!==l.Value.PLUS_FOUR&&d.showErrorAlert(t)}))}))}catch(t){}}))}(t,null==n?void 0:n.id),new c.Sortable(document.querySelectorAll(".player-cards"),{draggable:".carta",delay:300})},e.drawTurn=v,e.drawStartLayout=function(t){var e=document.getElementById("deck"),n=document.getElementById("stack"),o=document.getElementById("players-title"),s=document.getElementById("button-uno"),c=document.getElementById("button-start");r.fromEvent(c,"click").pipe(i.first()).subscribe((function(){e.style.display="flex",n.style.display="flex",o.style.display="block",s.style.display="block",c.style.display="none",a.roomStart().then((function(){u.startGame()}))})),v(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameObject=void 0;var r=function(t,e,n){var r=this;void 0===t&&(t="div"),this.type=t,this.props=e,this.childs=n,this.element=document.createElement(t),null==e||e.forEach((function(t){var e=t.name,n=t.value;r.element.setAttribute(e,n)})),null==n||n.forEach((function(t){r.element.appendChild(t)}))};e.GameObject=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Player=void 0;var r=n(102),i=function(t,e,n){this.id=t,this.name=e,this.pic=n,this.hand=new r.Hand};e.Player=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameDirection=void 0,function(t){t[t.CLOCKWISE=0]="CLOCKWISE",t[t.COUNTER_CLOCKWISE=1]="COUNTER_CLOCKWISE"}(e.GameDirection||(e.GameDirection={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameEvent=void 0,function(t){t.AFTER_GAME_START="afterGameStart",t.AFTER_PLAY_CARD="afterPlayCard",t.AFTER_TAKE_CARDS="afterTakeCards",t.AFTER_YELL_UNO="afterYellUno",t.BEFORE_TURN="beforeTurn",t.GAME_END="gameEnd",t.CHANGE_COLOR="changeColor",t.REVERSE="reverse",t.SKIP="skip",t.ERROR="error"}(e.GameEvent||(e.GameEvent={}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BeforeTurnEvent=void 0;var r=function(t){this.player=t};e.BeforeTurnEvent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.randomizeInteger=void 0,e.randomizeInteger=function(t,e){if(null===e&&(e=null===t?Number.MAX_SAFE_INTEGER:t,t=1),(t=Math.ceil(t))>(e=Math.floor(e))-1)throw new Error("Incorrect arguments.");return t+Math.floor((e-t)*Math.random())}},function(t,e,n){var r=n(76),i=n(90);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){var r=n(37),i=n(91),o=n(92);(e=r(!1)).i(i),e.i(o),e.push([t.i,'/* \r\n   http://meyerweb.com/eric/tools/css/reset/ \r\n   v2.0 | 20110126\r\n   License: none (public domain)\r\n*/\r\n\r\nhtml, body, div, span, applet, object, iframe,\r\nh1, h2, h3, h4, h5, h6, p, blockquote, pre,\r\na, abbr, acronym, address, big, cite, code,\r\ndel, dfn, em, img, ins, kbd, q, s, samp,\r\nsmall, strike, strong, sub, sup, tt, var,\r\nb, u, i, center,\r\ndl, dt, dd, ol, ul, li,\r\nfieldset, form, label, legend,\r\ntable, caption, tbody, tfoot, thead, tr, th, td,\r\narticle, aside, canvas, details, embed,\r\nfigure, figcaption, footer, header, hgroup,\r\nmenu, nav, output, ruby, section, summary,\r\ntime, mark, audio, video {\r\n    margin: 0;\r\n    padding: 0;\r\n    border: 0;\r\n    font-size: 100%;\r\n    font: inherit;\r\n    vertical-align: baseline;\r\n    box-sizing: border-box;\r\n}\r\n\r\n/* HTML5 display-role reset for older browsers */\r\narticle, aside, details, figcaption, figure, \r\nfooter, header, hgroup, menu, nav, section {\r\n    display: block;\r\n}\r\nbody {\r\n    line-height: 1;\r\n    height: 100vh;\r\n}\r\nol, ul {\r\n    list-style: none;\r\n}\r\nblockquote, q {\r\n    quotes: none;\r\n}\r\nblockquote:before,\r\nblockquote:after,\r\nq:before, q:after {\r\n    content: "";\r\n    content: none;\r\n}\r\ntable {\r\n    border-collapse: collapse;\r\n    border-spacing: 0;\r\n}\r\n\r\n/** Estilos UI */\r\n\r\n',""]),t.exports=e},function(t,e,n){(e=n(37)(!1)).push([t.i,":root {\r\n  --main-red-color: #A11C21;\r\n}",""]),t.exports=e},function(t,e,n){var r=n(37),i=n(93),o=n(94);(e=r(!1)).push([t.i,"@import url(https://fonts.googleapis.com/css?family=Montserrat:200,400,500&display=swap);"]),e.i(i),e.i(o),e.push([t.i,'* {\r\n  box-sizing: border-box;\r\n  font-family: "Montserrat", sans-serif !important;\r\n  font-weight: 400;\r\n  user-select: none !important;\r\n  outline: none !important;\r\n\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n}\r\n\r\ninput, textarea {\r\n  user-select: text !important;\r\n}\r\n\r\nbody {\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\nbutton {\r\n  background-color: var(--main-red-color);\r\n  border: 3px solid white;\r\n  border-radius: 6px;\r\n  color: white;\r\n  cursor: pointer;\r\n  font-size: 9px;\r\n  font-weight: bold;\r\n  margin-left: -12px;\r\n  margin-right: -12px;\r\n  padding: .4rem;\r\n  letter-spacing: 1px;\r\n  transition: transform .12s ease-in-out;\r\n  text-transform: uppercase;\r\n}\r\n\r\nbutton:active {\r\n  transform: scale(.92);\r\n}\r\n\r\nbutton:focus {\r\n  outline:0;\r\n}\r\n\r\n.title {\r\n    background-color: rgba(0,0,0,.80);\r\n    color: #bebebe;\r\n    font-size: 12px;\r\n    font-weight: 500;\r\n    padding: .37rem;\r\n    text-align: center;\r\n    letter-spacing: .12rem;\r\n}',""]),t.exports=e},function(t,e,n){(e=n(37)(!1)).push([t.i,'#container {\r\n  background: url("/assets/images/bg-main.jpg") no-repeat center center;\r\n  background-size: cover;\r\n  display: flex;\r\n  height: 100%;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n#chat {\r\n  background-color: rgba(0, 0, 0, 0.6);\r\n  height: 100%;\r\n  max-width: 340px;\r\n  width: 35vw;\r\n}\r\n\r\n#chat-top {\r\n  background-color: #1a1712;\r\n  box-shadow: 0 10px 14px rgba(0, 0, 0, 0.23);\r\n  color: #ffffff;\r\n  display: flex;\r\n  flex: 1;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  height: 65px;\r\n}\r\n\r\n#chat .chat-title {\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: 100%;\r\n}\r\n\r\n#chat-content {\r\n  flex: 1;\r\n  align-items: flex-end;\r\n  height: calc(100vh - 109px - 2rem);\r\n  padding: 1.5rem 1rem;\r\n  overflow-y: auto;\r\n}\r\n\r\n#chat-actions {\r\n  display: none;\r\n  margin: 1rem;\r\n  justify-content: space-between;\r\n}\r\n\r\n#input-write-message {\r\n  width: calc(100% - 60px);\r\n  font-size: 1rem;\r\n  padding: 0.7rem;\r\n}\r\n\r\n#button-send-message {\r\n  margin-left: 0;\r\n  margin-right: 0;\r\n}\r\n\r\n.chat-bubble {\r\n  background-color: #ffffff;\r\n  color: #333;\r\n  border-radius: 3px;\r\n  padding: 0.7rem;\r\n  font-size: 1rem;\r\n}\r\n.chat-bubble+.chat-bubble {\r\n  margin-top: 1rem;\r\n}\r\n\r\n.chat-bubble-timestamp {\r\n  font-size: 0.5rem;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.chat-bubble-username {\r\n  font-size: 0.7rem;\r\n  font-weight: bold;\r\n  margin-bottom: 0.5rem;\r\n}\r\n\r\n.chat-bubble-message {\r\n  \r\n}\r\n\r\n.chat-runox-icon {\r\n  background-color: #CCC;\r\n  padding: 10px;\r\n  max-width: calc(100% - 60px);\r\n  border-radius: 18px;\r\n}\r\n\r\n#root {\r\n  background-color: rgba(0, 0, 0, 0.25);\r\n  border: 2px solid #1a1712;\r\n  display: flex;\r\n  flex-direction: column;\r\n  height: 100%;\r\n  margin: 0 auto;\r\n  /* max-width: 1680px;\r\n  max-height: 1050px; */\r\n  position: relative;\r\n  width: 100%;\r\n}\r\n\r\n#top {\r\n  background-color: #1a1712;\r\n  box-shadow: 0 10px 14px rgba(0, 0, 0, 0.23);\r\n  color: #ffffff;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  margin-bottom: 1rem;\r\n  padding: 1rem 2rem;\r\n  height: 65px;\r\n}\r\n\r\n#top #deck {\r\n  align-items: center;\r\n  height: 160px;\r\n  position: relative;\r\n  width: 110px;\r\n  display: none;\r\n  justify-content: center;\r\n  margin-right: 20px;\r\n}\r\n\r\n#top #deck img {\r\n  position: absolute;\r\n  top: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  left: 0;\r\n  height: 160px;\r\n}\r\n\r\n#top #deck button {\r\n  width: 120px;\r\n  z-index: 100;\r\n}\r\n\r\n#top #stack-container {\r\n  display: none;\r\n}\r\n\r\n#top #stack-container #stack {\r\n  align-items: center;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  position: relative;\r\n  width: 140px;\r\n}\r\n\r\n#top #stack-container #stack-title {\r\n  font-size: 10px;\r\n  text-align: center;\r\n}\r\n\r\n#top #stack-container #stack .carta {\r\n  top: 10px;\r\n  margin-bottom: -28px;\r\n  position: absolute;\r\n}\r\n\r\n#players {\r\n  overflow-y: auto;\r\n  display: flex;\r\n  height: 100%;\r\n  justify-content: center;\r\n  position: relative;\r\n  padding-top: 56px;\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  width: 80%;\r\n}\r\n\r\n#players-title {\r\n  margin-top: 3rem;\r\n  display: none;\r\n}\r\n\r\n/* #button-uno {\r\n  border-radius: 50%;\r\n  border-width: 6px;\r\n  bottom: 50px;\r\n  box-shadow: 0 8px 4px rgba(0, 0, 0, 0.32);\r\n  display: none;\r\n  font-size: 12px;\r\n  height: 96px;\r\n  position: fixed;\r\n  right: 50px;\r\n  width: 96px;\r\n  z-index: 100;\r\n} */\r\n\r\n#button-uno {\r\n  border-radius: 50%;\r\n  border-width: 6px;\r\n  box-shadow: 0 8px 4px rgba(0, 0, 0, 0.32);\r\n  display: none;\r\n  font-size: 16px;\r\n  height: 110px;\r\n  position: absolute;\r\n  right: 3rem;\r\n  bottom: 1rem;\r\n  width: 110px;\r\n  z-index: 100;\r\n}\r\n\r\n#google-login {\r\n  border-radius: 50%;\r\n  border-width: 6px;\r\n  box-shadow: 0 8px 4px rgba(0, 0, 0, 0.32);\r\n  font-size: 16px;\r\n  height: 110px;\r\n  position: fixed;\r\n  right: 50px;\r\n  top: 20vh;\r\n  left: 50%;\r\n  margin-left: -55px;\r\n  width: 110px;\r\n  z-index: 100;\r\n}\r\n\r\n#button-start {\r\n  border-radius: 50%;\r\n  border-width: 6px;\r\n  box-shadow: 0 8px 4px rgba(0, 0, 0, 0.32);\r\n  font-size: 16px;\r\n  height: 110px;\r\n  position: fixed;\r\n  right: 50px;\r\n  top: 20vh;\r\n  left: 50%;\r\n  margin-left: -55px;\r\n  width: 110px;\r\n  z-index: 100;\r\n}\r\n\r\n#waiting-title {\r\n  border-radius: 50%;\r\n  border-width: 6px;\r\n  display: none;\r\n  font-size: 28px;\r\n  height: 210px;\r\n  position: fixed;\r\n  right: 50px;\r\n  top: 20vh;\r\n  left: 40%;\r\n  margin-left: -100px;\r\n  width: 410px;\r\n  z-index: 100;\r\n}\r\n\r\n#player-select-color {\r\n  display: none;\r\n  text-align: center;\r\n  padding: 20px;\r\n}\r\n\r\n#color-select {\r\n  display: none;\r\n  text-align: center;\r\n  padding: 20px;\r\n}\r\n\r\n.button-red {\r\n  background: #ee1c24;\r\n  color: white;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n\r\n.button-blue {\r\n  background: #0095da;\r\n  color: white;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n.button-green {\r\n  background: #00a651;\r\n  color: white;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n.button-yellow {\r\n  background: #ffde00;\r\n  color: black;\r\n  margin-left: 10px;\r\n  margin-right: 10px;\r\n}\r\n\r\n#player-select-color button {\r\n  width: 200px;\r\n  height: 50px;\r\n  font-size: 18px;\r\n}\r\n',""]),t.exports=e},function(t,e,n){(e=n(37)(!1)).push([t.i,".player {\r\n  width: 100%;\r\n}\r\n\r\n.player .player-title {\r\n  color: white;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  border-bottom: 2px solid rgba(0, 0, 0, 0.6);\r\n  padding-bottom: 1rem;\r\n  margin-bottom: 1rem;\r\n}\r\n\r\n.player .player-cards {\r\n  display: flex;\r\n  justify-content: center;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.player:not(.player-select) {\r\n  pointer-events: none;\r\n}\r\n",""]),t.exports=e},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.CardComponent=void 0,n(96);var o=function(t){function e(e,n){var r=[{name:"id",value:e},{name:"class",value:"carta "+n}],i=document.createElement("div");i.setAttribute("class","overlay");var o=document.createElement("button");return o.setAttribute("data-card",e),o.setAttribute("class","button-play-card"),o.append("JUGAR CARTA"),i.appendChild(o),t.call(this,"div",r,[i])||this}return i(e,t),e}(n(83).GameObject);e.CardComponent=o},function(t,e,n){var r=n(76),i=n(97);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(37)(!1)).push([t.i,".carta {\r\n  background-image: url('/assets/images/cartas-uno.png');\r\n  box-shadow: 0 10px 14px rgba(0, 0, 0, .23);\r\n  cursor: pointer;\r\n  display: inline-block;\r\n  height: 134px;\r\n  margin: 0 .6rem 1rem .6rem;\r\n  position:relative;\r\n  transition: .2s ease-in-out all;\r\n  width: 86px;\r\n  outline: none;\r\n}\r\n\r\n.draggable-container--is-dragging * {\r\n  transition: none !important;\r\n}\r\n\r\n.carta.draggable--over {\r\n  background: rgba(0, 0, 0, .62);\r\n  border: .2rem solid #1a1712;\r\n  border-radius: 9px;\r\n  box-shadow: 0 10px 14px rgba(0, 0, 0, .23);\r\n  transition: none;\r\n}\r\n\r\n.carta.draggable--over .overlay {\r\n  display: none;\r\n  transition: none;\r\n}\r\n\r\n.carta.draggable-mirror {\r\n  transition: none !important;\r\n  margin-right: 100px;\r\n}\r\n\r\n.carta:hover {\r\n  transform: scale(1.26);\r\n}\r\n\r\n.carta .overlay {\r\n  align-items: center;\r\n  background: rgba(161, 28, 33, .60);\r\n  border: 4px solid white;\r\n  border-radius: 9px;\r\n  bottom: 0;\r\n  display: flex;\r\n  opacity: 0;\r\n  left: 0;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 150px;\r\n  transition: all .23s ease-in-out;\r\n  justify-content: center;\r\n}\r\n\r\n.carta-selected {\r\n  transform: scale(1.26);\r\n  z-index: 100;\r\n}\r\n\r\n.carta-selected .overlay { \r\n  top: 0;\r\n  opacity: 1;\r\n}\r\n\r\n/* Rojo */\r\n.uno--rojo { background-position: 0 0 ;}\r\n.dos--rojo { background-position: -85px 0 ;}\r\n.tres--rojo { background-position: -171px 0 ;}\r\n.cuatro--rojo { background-position: -256px 0 ;}\r\n.cinco--rojo { background-position: -342px 0 ;}\r\n.seis--rojo { background-position: -427px 0 ;}\r\n.siete--rojo { background-position: -513px 0 ;}\r\n.ocho--rojo { background-position: -598px 0 ;}\r\n.nueve--rojo { background-position: -684px 0 ;}\r\n.cero--rojo { background-position: -769px 0 ;}\r\n.saltar--rojo { background-position: 0 -534px ;}\r\n.reversa--rojo { background-position: -85px -534px ;}\r\n.mas-dos--rojo { background-position: -171px -534px ;}\r\n\r\n/* Amarillo */\r\n.uno--amarillo { background-position: 0 -133px ;}\r\n.dos--amarillo { background-position: -85px -133px;}\r\n.tres--amarillo { background-position: -171px -133px ;}\r\n.cuatro--amarillo { background-position: -256px -133px ;}\r\n.cinco--amarillo { background-position: -342px -133px ;}\r\n.seis--amarillo { background-position: -427px -133px ;}\r\n.siete--amarillo { background-position: -513px -133px ;}\r\n.ocho--amarillo { background-position: -598px -133px ;}\r\n.nueve--amarillo { background-position: -684px -133px ;}\r\n.cero--amarillo { background-position: -769px -133px ;}\r\n.saltar--amarillo {background-position: -256px -534px}\r\n.reversa--amarillo {background-position: -342px -534px}\r\n.mas-dos--amarillo {background-position: -427px -534px}\r\n\r\n/* Verde */\r\n.uno--verde { background-position: 0 -267px ;}\r\n.dos--verde { background-position: -85px -267px;}\r\n.tres--verde { background-position: -171px -267px ;}\r\n.cuatro--verde { background-position: -256px -267px ;}\r\n.cinco--verde { background-position: -342px -267px ;}\r\n.seis--verde { background-position: -427px -267px ;}\r\n.siete--verde { background-position: -513px -267px ;}\r\n.ocho--verde { background-position: -598px -267px ;}\r\n.nueve--verde { background-position: -684px -267px ;}\r\n.cero--verde { background-position: -769px -267px ;}\r\n.saltar--verde {background-position: -513px -534px ;}\r\n.reversa--verde { background-position: -598px -534px;}\r\n.mas-dos--verde { background-position: -684px -534px ;}\r\n\r\n/* Azul */\r\n.uno--azul { background-position: 0 -400px ;}\r\n.dos--azul { background-position: -85px -400px;}\r\n.tres--azul { background-position: -171px -400px ;}\r\n.cuatro--azul { background-position: -256px -400px ;}\r\n.cinco--azul { background-position: -342px -400px ;}\r\n.seis--azul { background-position: -427px -400px ;}\r\n.siete--azul { background-position: -513px -400px ;}\r\n.ocho--azul { background-position: -598px -400px ;}\r\n.nueve--azul { background-position: -684px -400px ;}\r\n.cero--azul { background-position: -769px -400px ;}\r\n.saltar--azul { background-position: -769px -534px ;}\r\n.reversa--azul { background-position: -853px -668px ;}\r\n.mas-dos--azul { background-position: -940px -668px ;}\r\n\r\n/* Comodines */\r\n.comodin { background-position: -171px -668px; }\r\n.mas-cuatro { background-position: -342px -668px; }\r\n.desconocida { background-position: -769px -802px; }",""]),t.exports=e},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Avatar=void 0,n(99);var o=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=!1);var i=document.createElement("img");i.setAttribute("src",e.pic);var o=document.createElement("div");if(o.setAttribute("class","avatar-image"),o.appendChild(i),n>0){var s=document.createElement("div");s.setAttribute("class","avatar-badge"),s.append(n.toString()),o.appendChild(s)}var a=document.createElement("div");a.setAttribute("class","avatar-name"),a.append(e.name);var u="avatar";return r&&(u+=" active"),t.call(this,"div",[{name:"class",value:u}],[a,o])||this}return i(e,t),e}(n(83).GameObject);e.Avatar=o},function(t,e,n){var r=n(76),i=n(100);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[t.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);t.exports=i.locals||{}},function(t,e,n){(e=n(37)(!1)).push([t.i,"#avatars {\r\n  color: white;\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  flex-direction: row;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding-left: 1rem;\r\n  padding-right: 1rem;\r\n  overflow: hidden;\r\n  overflow-x: auto;\r\n  margin: -66px 160px 0px 160px;\r\n}\r\n\r\n.avatar  {\r\n  margin: 0 1rem;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  max-width: 100px;\r\n}\r\n\r\n.avatar .avatar-image {\r\n  background-color: #f2f2f2;\r\n  border: 4px solid white;\r\n  border-radius: 50%;\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  height: 68px;\r\n  position: relative;\r\n  transition: .2s ease-in-out all;\r\n  width: 68px;\r\n}\r\n\r\n.avatar.active .avatar-image {\r\n  border-width: 6px;\r\n  height: 100px;\r\n  width: 100px;\r\n}\r\n\r\n.avatar .avatar-image img {\r\n  border-radius: 50%;\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  filter: grayscale(100%);\r\n}\r\n\r\n.avatar.active .avatar-image img {\r\n  filter: grayscale(0%);\r\n}\r\n\r\n.avatar .avatar-image .avatar-badge {\r\n  align-items: center;\r\n  background: #9E1B20;\r\n  border: 2px solid #FFFFFF;\r\n  border-radius: 50%;\r\n  box-shadow: 0px 4px 4px rgba(0, 0, 0, 0.25);\r\n  display: flex;\r\n  font-size: 10px;\r\n  height: 20px;\r\n  justify-content: center;\r\n  position: absolute;\r\n  right: -4px;\r\n  top: -4px;\r\n  width: 20px;\r\n}\r\n\r\n.avatar.active .avatar-image .avatar-badge{\r\n  font-size: 14px;\r\n  height: 26px;\r\n  width: 26px;\r\n}\r\n\r\n.avatar .avatar-name {\r\n  color: #ccc;\r\n  font-size: 12px;\r\n  margin-bottom: .4rem;\r\n  text-align: center;\r\n  text-transform: uppercase;\r\n  line-height: .82rem;\r\n}\r\n\r\n.avatar.active .avatar-name {\r\n  color: white;\r\n  font-size: 14px;\r\n}\r\n\r\n\r\n\r\n",""]),t.exports=e},function(t,e,n){var r;window,r=function(){return function(t){var e={};function n(r){if(e[r])return e[r].exports;var i=e[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)n.d(r,i,function(e){return t[e]}.bind(null,i));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=66)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(64),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(60),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(51);Object.defineProperty(e,"closest",{enumerable:!0,get:function(){return o(r).default}});var i=n(49);function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"requestNextAnimationFrame",{enumerable:!0,get:function(){return o(i).default}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(44);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(47),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(14);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i=n(13);Object.keys(i).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return i[t]}})}));var o=n(12);Object.keys(o).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})}));var s=n(6);Object.keys(s).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return s[t]}})}));var a,u=n(37),c=(a=u)&&a.__esModule?a:{default:a};e.default=c.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4);Object.defineProperty(e,"Sensor",{enumerable:!0,get:function(){return c(r).default}});var i=n(46);Object.defineProperty(e,"MouseSensor",{enumerable:!0,get:function(){return c(i).default}});var o=n(43);Object.defineProperty(e,"TouchSensor",{enumerable:!0,get:function(){return c(o).default}});var s=n(41);Object.defineProperty(e,"DragSensor",{enumerable:!0,get:function(){return c(s).default}});var a=n(39);Object.defineProperty(e,"ForceTouchSensor",{enumerable:!0,get:function(){return c(a).default}});var u=n(3);function c(t){return t&&t.__esModule?t:{default:t}}Object.keys(u).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return u[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(18);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(23);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(27);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(30);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(33);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(62);Object.defineProperty(e,"Announcement",{enumerable:!0,get:function(){return a(r).default}}),Object.defineProperty(e,"defaultAnnouncementOptions",{enumerable:!0,get:function(){return r.defaultOptions}});var i=n(59);Object.defineProperty(e,"Focusable",{enumerable:!0,get:function(){return a(i).default}});var o=n(57);Object.defineProperty(e,"Mirror",{enumerable:!0,get:function(){return a(o).default}}),Object.defineProperty(e,"defaultMirrorOptions",{enumerable:!0,get:function(){return o.defaultOptions}});var s=n(53);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"Scrollable",{enumerable:!0,get:function(){return a(s).default}}),Object.defineProperty(e,"defaultScrollableOptions",{enumerable:!0,get:function(){return s.defaultOptions}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(63);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(65);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),s=(r=o)&&r.__esModule?r:{default:r};const a=Symbol("onSortableSorted"),u=e.defaultOptions={duration:150,easingFunction:"ease-in-out",horizontal:!1};class c extends s.default{constructor(t){super(t),this.options=i({},u,this.getOptions()),this.lastAnimationFrame=null,this[a]=this[a].bind(this)}attach(){this.draggable.on("sortable:sorted",this[a])}detach(){this.draggable.off("sortable:sorted",this[a])}getOptions(){return this.draggable.options.swapAnimation||{}}[a]({oldIndex:t,newIndex:e,dragEvent:n}){const{source:r,over:i}=n;cancelAnimationFrame(this.lastAnimationFrame),this.lastAnimationFrame=requestAnimationFrame(()=>{t>=e?l(r,i,this.options):l(i,r,this.options)})}}function l(t,e,{duration:n,easingFunction:r,horizontal:i}){for(const n of[t,e])n.style.pointerEvents="none";if(i){const n=t.offsetWidth;t.style.transform=`translate3d(${n}px, 0, 0)`,e.style.transform=`translate3d(-${n}px, 0, 0)`}else{const n=t.offsetHeight;t.style.transform=`translate3d(0, ${n}px, 0)`,e.style.transform=`translate3d(0, -${n}px, 0)`}requestAnimationFrame(()=>{for(const i of[t,e])i.addEventListener("transitionend",d),i.style.transition=`transform ${n}ms ${r}`,i.style.transform=""})}function d(t){t.target.style.transition="",t.target.style.pointerEvents="",t.target.removeEventListener("transitionend",d)}e.default=c},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=n(15),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default,e.defaultOptions=i.defaultOptions},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},s=n(7);const a=Symbol("onDragStart"),u=Symbol("onDragStop"),c=Symbol("onDragOver"),l=Symbol("onDragOut"),d=Symbol("onMirrorCreated"),h=Symbol("onMirrorDestroy");class f extends o.default{constructor(t){super(t),this.firstSource=null,this.mirror=null,this[a]=this[a].bind(this),this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this)}attach(){this.draggable.on("drag:start",this[a]).on("drag:stop",this[u]).on("drag:over",this[c]).on("drag:out",this[l]).on("droppable:over",this[c]).on("droppable:out",this[l]).on("mirror:created",this[d]).on("mirror:destroy",this[h])}detach(){this.draggable.off("drag:start",this[a]).off("drag:stop",this[u]).off("drag:over",this[c]).off("drag:out",this[l]).off("droppable:over",this[c]).off("droppable:out",this[l]).off("mirror:created",this[d]).off("mirror:destroy",this[h])}[a](t){t.canceled()||(this.firstSource=t.source)}[u](){this.firstSource=null}[c](t){if(t.canceled())return;const e=t.source||t.dragEvent.source;if(e===this.firstSource)return void(this.firstSource=null);const n=new s.SnapInEvent({dragEvent:t,snappable:t.over||t.droppable});this.draggable.trigger(n),n.canceled()||(this.mirror&&(this.mirror.style.display="none"),e.classList.remove(this.draggable.getClassNameFor("source:dragging")),e.classList.add(this.draggable.getClassNameFor("source:placed")),setTimeout(()=>{e.classList.remove(this.draggable.getClassNameFor("source:placed"))},this.draggable.options.placedTimeout))}[l](t){if(t.canceled())return;const e=t.source||t.dragEvent.source,n=new s.SnapOutEvent({dragEvent:t,snappable:t.over||t.droppable});this.draggable.trigger(n),n.canceled()||(this.mirror&&(this.mirror.style.display=""),e.classList.add(this.draggable.getClassNameFor("source:dragging")))}[d]({mirror:t}){this.mirror=t}[h](){this.mirror=null}}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SnapOutEvent=e.SnapInEvent=e.SnapEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get dragEvent(){return this.data.dragEvent}get snappable(){return this.data.snappable}}e.SnapEvent=s,s.type="snap";class a extends s{}e.SnapInEvent=a,a.type="snap:in",a.cancelable=!0;class u extends s{}e.SnapOutEvent=u,u.type="snap:out",u.cancelable=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(7);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i,o=n(17),s=(i=o)&&i.__esModule?i:{default:i};e.default=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),s=(r=o)&&r.__esModule?r:{default:r},a=n(2);const u=Symbol("onMirrorCreated"),c=Symbol("onMirrorDestroy"),l=Symbol("onDragOver"),d=Symbol("resize"),h=e.defaultOptions={};class f extends s.default{constructor(t){super(t),this.options=i({},h,this.getOptions()),this.lastWidth=0,this.lastHeight=0,this.mirror=null,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on("mirror:created",this[u]).on("drag:over",this[l]).on("drag:over:container",this[l])}detach(){this.draggable.off("mirror:created",this[u]).off("mirror:destroy",this[c]).off("drag:over",this[l]).off("drag:over:container",this[l])}getOptions(){return this.draggable.options.resizeMirror||{}}[u]({mirror:t}){this.mirror=t}[c](){this.mirror=null}[l](t){this[d](t)}[d]({overContainer:t,over:e}){requestAnimationFrame(()=>{this.mirror.parentNode!==t&&t.appendChild(this.mirror);const n=e||this.draggable.getDraggableElementsForContainer(t)[0];n&&(0,a.requestNextAnimationFrame)(()=>{const t=n.getBoundingClientRect();this.lastHeight===t.height&&this.lastWidth===t.width||(this.mirror.style.width=t.width+"px",this.mirror.style.height=t.height+"px",this.lastWidth=t.width,this.lastHeight=t.height)})})}}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=n(20),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default,e.defaultOptions=i.defaultOptions},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(1),o=(r=i)&&r.__esModule?r:{default:r},s=n(2),a=n(8);const u=Symbol("onDragMove"),c=Symbol("onDragStop"),l=Symbol("onRequestAnimationFrame");class d extends o.default{constructor(t){super(t),this.currentlyCollidingElement=null,this.lastCollidingElement=null,this.currentAnimationFrame=null,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on("drag:move",this[u]).on("drag:stop",this[c])}detach(){this.draggable.off("drag:move",this[u]).off("drag:stop",this[c])}getCollidables(){const t=this.draggable.options.collidables;return"string"==typeof t?Array.prototype.slice.call(document.querySelectorAll(t)):t instanceof NodeList||t instanceof Array?Array.prototype.slice.call(t):t instanceof HTMLElement?[t]:"function"==typeof t?t():[]}[u](t){const e=t.sensorEvent.target;this.currentAnimationFrame=requestAnimationFrame(this[l](e)),this.currentlyCollidingElement&&t.cancel();const n=new a.CollidableInEvent({dragEvent:t,collidingElement:this.currentlyCollidingElement}),r=new a.CollidableOutEvent({dragEvent:t,collidingElement:this.lastCollidingElement}),i=Boolean(this.currentlyCollidingElement&&this.lastCollidingElement!==this.currentlyCollidingElement),o=Boolean(!this.currentlyCollidingElement&&this.lastCollidingElement);i?(this.lastCollidingElement&&this.draggable.trigger(r),this.draggable.trigger(n)):o&&this.draggable.trigger(r),this.lastCollidingElement=this.currentlyCollidingElement}[c](t){const e=this.currentlyCollidingElement||this.lastCollidingElement,n=new a.CollidableOutEvent({dragEvent:t,collidingElement:e});e&&this.draggable.trigger(n),this.lastCollidingElement=null,this.currentlyCollidingElement=null}[l](t){return()=>{const e=this.getCollidables();this.currentlyCollidingElement=(0,s.closest)(t,t=>e.includes(t))}}}e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CollidableOutEvent=e.CollidableInEvent=e.CollidableEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get dragEvent(){return this.data.dragEvent}}e.CollidableEvent=s,s.type="collidable";class a extends s{get collidingElement(){return this.data.collidingElement}}e.CollidableInEvent=a,a.type="collidable:in";class u extends s{get collidingElement(){return this.data.collidingElement}}e.CollidableOutEvent=u,u.type="collidable:out"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(8);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i,o=n(22),s=(i=o)&&i.__esModule?i:{default:i};e.default=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24);Object.defineProperty(e,"Collidable",{enumerable:!0,get:function(){return a(r).default}});var i=n(21);Object.defineProperty(e,"ResizeMirror",{enumerable:!0,get:function(){return a(i).default}}),Object.defineProperty(e,"defaultResizeMirrorOptions",{enumerable:!0,get:function(){return i.defaultOptions}});var o=n(19);Object.defineProperty(e,"Snappable",{enumerable:!0,get:function(){return a(o).default}});var s=n(16);function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"SwapAnimation",{enumerable:!0,get:function(){return a(s).default}}),Object.defineProperty(e,"defaultSwapAnimationOptions",{enumerable:!0,get:function(){return s.defaultOptions}})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(5),s=(r=o)&&r.__esModule?r:{default:r},a=n(9);const u=Symbol("onDragStart"),c=Symbol("onDragOverContainer"),l=Symbol("onDragOver"),d=Symbol("onDragStop"),h={"sortable:sorted":function({dragEvent:t}){const e=t.source.textContent.trim()||t.source.id||"sortable element";if(t.over){const n=t.over.textContent.trim()||t.over.id||"sortable element";return t.source.compareDocumentPosition(t.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${e} after ${n}`:`Placed ${e} before ${n}`}return`Placed ${e} into a different container`}};class f extends s.default{constructor(t=[],e={}){super(t,i({},e,{announcements:i({},h,e.announcements||{})})),this.startIndex=null,this.startContainer=null,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this),this.on("drag:start",this[u]).on("drag:over:container",this[c]).on("drag:over",this[l]).on("drag:stop",this[d])}destroy(){super.destroy(),this.off("drag:start",this[u]).off("drag:over:container",this[c]).off("drag:over",this[l]).off("drag:stop",this[d])}index(t){return this.getDraggableElementsForContainer(t.parentNode).indexOf(t)}[u](t){this.startContainer=t.source.parentNode,this.startIndex=this.index(t.source);const e=new a.SortableStartEvent({dragEvent:t,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(e),e.canceled()&&t.cancel()}[c](t){if(t.canceled())return;const{source:e,over:n,overContainer:r}=t,i=this.index(e),o=new a.SortableSortEvent({dragEvent:t,currentIndex:i,source:e,over:n});if(this.trigger(o),o.canceled())return;const s=v({source:e,over:n,overContainer:r,children:this.getDraggableElementsForContainer(r)});if(!s)return;const{oldContainer:u,newContainer:c}=s,l=this.index(t.source),d=new a.SortableSortedEvent({dragEvent:t,oldIndex:i,newIndex:l,oldContainer:u,newContainer:c});this.trigger(d)}[l](t){if(t.over===t.originalSource||t.over===t.source)return;const{source:e,over:n,overContainer:r}=t,i=this.index(e),o=new a.SortableSortEvent({dragEvent:t,currentIndex:i,source:e,over:n});if(this.trigger(o),o.canceled())return;const s=v({source:e,over:n,overContainer:r,children:this.getDraggableElementsForContainer(r)});if(!s)return;const{oldContainer:u,newContainer:c}=s,l=this.index(e),d=new a.SortableSortedEvent({dragEvent:t,oldIndex:i,newIndex:l,oldContainer:u,newContainer:c});this.trigger(d)}[d](t){const e=new a.SortableStopEvent({dragEvent:t,oldIndex:this.startIndex,newIndex:this.index(t.source),oldContainer:this.startContainer,newContainer:t.source.parentNode});this.trigger(e),this.startIndex=null,this.startContainer=null}}function p(t){return Array.prototype.indexOf.call(t.parentNode.children,t)}function v({source:t,over:e,overContainer:n,children:r}){const i=!r.length,o=t.parentNode!==n,s=e&&!o;return i?function(t,e){const n=t.parentNode;return e.appendChild(t),{oldContainer:n,newContainer:e}}(t,n):s?function(t,e){const n=p(t),r=p(e);return n<r?t.parentNode.insertBefore(t,e.nextElementSibling):t.parentNode.insertBefore(t,e),{oldContainer:t.parentNode,newContainer:t.parentNode}}(t,e):o?function(t,e,n){const r=t.parentNode;return e?e.parentNode.insertBefore(t,e):n.appendChild(t),{oldContainer:r,newContainer:t.parentNode}}(t,e,n):null}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SortableStopEvent=e.SortableSortedEvent=e.SortableSortEvent=e.SortableStartEvent=e.SortableEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get dragEvent(){return this.data.dragEvent}}e.SortableEvent=s,s.type="sortable";class a extends s{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}e.SortableStartEvent=a,a.type="sortable:start",a.cancelable=!0;class u extends s{get currentIndex(){return this.data.currentIndex}get over(){return this.data.oldIndex}get overContainer(){return this.data.newIndex}}e.SortableSortEvent=u,u.type="sortable:sort",u.cancelable=!0;class c extends s{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}e.SortableSortedEvent=c,c.type="sortable:sorted";class l extends s{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}e.SortableStopEvent=l,l.type="sortable:stop"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i,o=n(26),s=(i=o)&&i.__esModule?i:{default:i};e.default=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(5),s=(r=o)&&r.__esModule?r:{default:r},a=n(10);const u=Symbol("onDragStart"),c=Symbol("onDragOver"),l=Symbol("onDragStop"),d={"swappabled:swapped":function({dragEvent:t,swappedElement:e}){return`Swapped ${t.source.textContent.trim()||t.source.id||"swappable element"} with ${e.textContent.trim()||e.id||"swappable element"}`}};class h extends s.default{constructor(t=[],e={}){super(t,i({},e,{announcements:i({},d,e.announcements||{})})),this.lastOver=null,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this),this.on("drag:start",this[u]).on("drag:over",this[c]).on("drag:stop",this[l])}destroy(){super.destroy(),this.off("drag:start",this._onDragStart).off("drag:over",this._onDragOver).off("drag:stop",this._onDragStop)}[u](t){const e=new a.SwappableStartEvent({dragEvent:t});this.trigger(e),e.canceled()&&t.cancel()}[c](t){if(t.over===t.originalSource||t.over===t.source||t.canceled())return;const e=new a.SwappableSwapEvent({dragEvent:t,over:t.over,overContainer:t.overContainer});if(this.trigger(e),e.canceled())return;this.lastOver&&this.lastOver!==t.over&&f(this.lastOver,t.source),this.lastOver===t.over?this.lastOver=null:this.lastOver=t.over,f(t.source,t.over);const n=new a.SwappableSwappedEvent({dragEvent:t,swappedElement:t.over});this.trigger(n)}[l](t){const e=new a.SwappableStopEvent({dragEvent:t});this.trigger(e),this.lastOver=null}}function f(t,e){const n=e.parentNode,r=t.parentNode;!function(t){const e=document.createElement("div");t(e),e.parentNode.removeChild(e)}(i=>{r.insertBefore(i,t),n.insertBefore(t,e),r.insertBefore(e,i)})}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SwappableStopEvent=e.SwappableSwappedEvent=e.SwappableSwapEvent=e.SwappableStartEvent=e.SwappableEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get dragEvent(){return this.data.dragEvent}}e.SwappableEvent=s,s.type="swappable";class a extends s{}e.SwappableStartEvent=a,a.type="swappable:start",a.cancelable=!0;class u extends s{get over(){return this.data.over}get overContainer(){return this.data.overContainer}}e.SwappableSwapEvent=u,u.type="swappable:swap",u.cancelable=!0;class c extends s{get swappedElement(){return this.data.swappedElement}}e.SwappableSwappedEvent=c,c.type="swappable:swapped";class l extends s{}e.SwappableStopEvent=l,l.type="swappable:stop"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(10);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i,o=n(29),s=(i=o)&&i.__esModule?i:{default:i};e.default=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(2),s=n(5),a=(r=s)&&r.__esModule?r:{default:r},u=n(11);const c=Symbol("onDragStart"),l=Symbol("onDragMove"),d=Symbol("onDragStop"),h=Symbol("dropInDropZone"),f=Symbol("returnToOriginalDropzone"),p=Symbol("closestDropzone"),v=Symbol("getDropzones"),b={"droppable:dropped":function({dragEvent:t,dropzone:e}){return`Dropped ${t.source.textContent.trim()||t.source.id||"draggable element"} into ${e.textContent.trim()||e.id||"droppable element"}`},"droppable:returned":function({dragEvent:t,dropzone:e}){return`Returned ${t.source.textContent.trim()||t.source.id||"draggable element"} from ${e.textContent.trim()||e.id||"droppable element"}`}},g={"droppable:active":"draggable-dropzone--active","droppable:occupied":"draggable-dropzone--occupied"},m={dropzone:".draggable-droppable"};class y extends a.default{constructor(t=[],e={}){super(t,i({},m,e,{classes:i({},g,e.classes||{}),announcements:i({},b,e.announcements||{})})),this.dropzones=null,this.lastDropzone=null,this.initialDropzone=null,this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this),this.on("drag:start",this[c]).on("drag:move",this[l]).on("drag:stop",this[d])}destroy(){super.destroy(),this.off("drag:start",this[c]).off("drag:move",this[l]).off("drag:stop",this[d])}[c](t){if(t.canceled())return;this.dropzones=[...this[v]()];const e=(0,o.closest)(t.sensorEvent.target,this.options.dropzone);if(!e)return void t.cancel();const n=new u.DroppableStartEvent({dragEvent:t,dropzone:e});if(this.trigger(n),n.canceled())t.cancel();else{this.initialDropzone=e;for(const t of this.dropzones)t.classList.contains(this.getClassNameFor("droppable:occupied"))||t.classList.add(this.getClassNameFor("droppable:active"))}}[l](t){if(t.canceled())return;const e=this[p](t.sensorEvent.target);e&&!e.classList.contains(this.getClassNameFor("droppable:occupied"))&&this[h](t,e)?this.lastDropzone=e:e&&e!==this.initialDropzone||!this.lastDropzone||(this[f](t),this.lastDropzone=null)}[d](t){const e=new u.DroppableStopEvent({dragEvent:t,dropzone:this.lastDropzone||this.initialDropzone});this.trigger(e);const n=this.getClassNameFor("droppable:occupied");for(const t of this.dropzones)t.classList.remove(this.getClassNameFor("droppable:active"));this.lastDropzone&&this.lastDropzone!==this.initialDropzone&&this.initialDropzone.classList.remove(n),this.dropzones=null,this.lastDropzone=null,this.initialDropzone=null}[h](t,e){const n=new u.DroppableDroppedEvent({dragEvent:t,dropzone:e});if(this.trigger(n),n.canceled())return!1;const r=this.getClassNameFor("droppable:occupied");return this.lastDropzone&&this.lastDropzone.classList.remove(r),e.appendChild(t.source),e.classList.add(r),!0}[f](t){const e=new u.DroppableReturnedEvent({dragEvent:t,dropzone:this.lastDropzone});this.trigger(e),e.canceled()||(this.initialDropzone.appendChild(t.source),this.lastDropzone.classList.remove(this.getClassNameFor("droppable:occupied")))}[p](t){return this.dropzones?(0,o.closest)(t,this.dropzones):null}[v](){const t=this.options.dropzone;return"string"==typeof t?document.querySelectorAll(t):t instanceof NodeList||t instanceof Array?t:"function"==typeof t?t():[]}}e.default=y},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DroppableStopEvent=e.DroppableReturnedEvent=e.DroppableDroppedEvent=e.DroppableStartEvent=e.DroppableEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get dragEvent(){return this.data.dragEvent}}e.DroppableEvent=s,s.type="droppable";class a extends s{get dropzone(){return this.data.dropzone}}e.DroppableStartEvent=a,a.type="droppable:start",a.cancelable=!0;class u extends s{get dropzone(){return this.data.dropzone}}e.DroppableDroppedEvent=u,u.type="droppable:dropped",u.cancelable=!0;class c extends s{get dropzone(){return this.data.dropzone}}e.DroppableReturnedEvent=c,c.type="droppable:returned",c.cancelable=!0;class l extends s{get dropzone(){return this.data.dropzone}}e.DroppableStopEvent=l,l.type="droppable:stop",l.cancelable=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(11);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}));var i,o=n(32),s=(i=o)&&i.__esModule?i:{default:i};e.default=s.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(){this.callbacks={}}on(t,...e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(...e),this}off(t,e){if(!this.callbacks[t])return null;const n=this.callbacks[t].slice(0);for(let r=0;r<n.length;r++)e===n[r]&&this.callbacks[t].splice(r,1);return this}trigger(t){if(!this.callbacks[t.type])return null;const e=[...this.callbacks[t.type]],n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];try{i(t)}catch(t){n.push(t)}}return n.length&&console.error(`Draggable caught errors while triggering '${t.type}'`,n),this}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(35),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(2),s=n(12),a=n(36),u=(r=a)&&r.__esModule?r:{default:r},c=n(6),l=n(13),d=n(14);const h=Symbol("onDragStart"),f=Symbol("onDragMove"),p=Symbol("onDragStop"),v=Symbol("onDragPressure"),b={"drag:start":t=>"Picked up "+(t.source.textContent.trim()||t.source.id||"draggable element"),"drag:stop":t=>"Released "+(t.source.textContent.trim()||t.source.id||"draggable element")},g={"container:dragging":"draggable-container--is-dragging","source:dragging":"draggable-source--is-dragging","source:placed":"draggable-source--placed","container:placed":"draggable-container--placed","body:dragging":"draggable--is-dragging","draggable:over":"draggable--over","container:over":"draggable-container--over","source:original":"draggable--original",mirror:"draggable-mirror"},m=e.defaultOptions={draggable:".draggable-source",handle:null,delay:100,placedTimeout:800,plugins:[],sensors:[]};class y{constructor(t=[document.body],e={}){if(t instanceof NodeList||t instanceof Array)this.containers=[...t];else{if(!(t instanceof HTMLElement))throw new Error("Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`");this.containers=[t]}this.options=i({},m,e,{classes:i({},g,e.classes||{}),announcements:i({},b,e.announcements||{})}),this.emitter=new u.default,this.dragging=!1,this.plugins=[],this.sensors=[],this[h]=this[h].bind(this),this[f]=this[f].bind(this),this[p]=this[p].bind(this),this[v]=this[v].bind(this),document.addEventListener("drag:start",this[h],!0),document.addEventListener("drag:move",this[f],!0),document.addEventListener("drag:stop",this[p],!0),document.addEventListener("drag:pressure",this[v],!0);const n=Object.values(y.Plugins).map(t=>t),r=[c.MouseSensor,c.TouchSensor];this.addPlugin(...n,...this.options.plugins),this.addSensor(...r,...this.options.sensors);const o=new l.DraggableInitializedEvent({draggable:this});this.on("mirror:created",({mirror:t})=>this.mirror=t),this.on("mirror:destroy",()=>this.mirror=null),this.trigger(o)}destroy(){document.removeEventListener("drag:start",this[h],!0),document.removeEventListener("drag:move",this[f],!0),document.removeEventListener("drag:stop",this[p],!0),document.removeEventListener("drag:pressure",this[v],!0);const t=new l.DraggableDestroyEvent({draggable:this});this.trigger(t),this.removePlugin(...this.plugins.map(t=>t.constructor)),this.removeSensor(...this.sensors.map(t=>t.constructor))}addPlugin(...t){const e=t.map(t=>new t(this));return e.forEach(t=>t.attach()),this.plugins=[...this.plugins,...e],this}removePlugin(...t){return this.plugins.filter(e=>t.includes(e.constructor)).forEach(t=>t.detach()),this.plugins=this.plugins.filter(e=>!t.includes(e.constructor)),this}addSensor(...t){const e=t.map(t=>new t(this.containers,this.options));return e.forEach(t=>t.attach()),this.sensors=[...this.sensors,...e],this}removeSensor(...t){return this.sensors.filter(e=>t.includes(e.constructor)).forEach(t=>t.detach()),this.sensors=this.sensors.filter(e=>!t.includes(e.constructor)),this}addContainer(...t){return this.containers=[...this.containers,...t],this.sensors.forEach(e=>e.addContainer(...t)),this}removeContainer(...t){return this.containers=this.containers.filter(e=>!t.includes(e)),this.sensors.forEach(e=>e.removeContainer(...t)),this}on(t,...e){return this.emitter.on(t,...e),this}off(t,e){return this.emitter.off(t,e),this}trigger(t){return this.emitter.trigger(t),this}getClassNameFor(t){return this.options.classes[t]}isDragging(){return Boolean(this.dragging)}getDraggableElements(){return this.containers.reduce((t,e)=>[...t,...this.getDraggableElementsForContainer(e)],[])}getDraggableElementsForContainer(t){return[...t.querySelectorAll(this.options.draggable)].filter(t=>t!==this.originalSource&&t!==this.mirror)}[h](t){const e=w(t),{target:n,container:r}=e;if(!this.containers.includes(r))return;if(this.options.handle&&n&&!(0,o.closest)(n,this.options.handle))return void e.cancel();if(this.originalSource=(0,o.closest)(n,this.options.draggable),this.sourceContainer=r,!this.originalSource)return void e.cancel();this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(this.getClassNameFor("source:placed")),this.lastPlacedContainer.classList.remove(this.getClassNameFor("container:placed"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display="none";const s=new d.DragStartEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:e});if(this.trigger(s),this.dragging=!s.canceled(),s.canceled())return this.source.parentNode.removeChild(this.source),void(this.originalSource.style.display=null);this.originalSource.classList.add(this.getClassNameFor("source:original")),this.source.classList.add(this.getClassNameFor("source:dragging")),this.sourceContainer.classList.add(this.getClassNameFor("container:dragging")),document.body.classList.add(this.getClassNameFor("body:dragging")),_(document.body,"none"),requestAnimationFrame(()=>{const e=w(t).clone({target:this.source});this[f](i({},t,{detail:e}))})}[f](t){if(!this.dragging)return;const e=w(t),{container:n}=e;let r=e.target;const i=new d.DragMoveEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e});this.trigger(i),i.canceled()&&e.cancel(),r=(0,o.closest)(r,this.options.draggable);const s=(0,o.closest)(e.target,this.containers),a=e.overContainer||s,u=this.currentOverContainer&&a!==this.currentOverContainer,c=this.currentOver&&r!==this.currentOver,l=a&&this.currentOverContainer!==a,h=s&&r&&this.currentOver!==r;if(c){const t=new d.DragOutEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,over:this.currentOver});this.currentOver.classList.remove(this.getClassNameFor("draggable:over")),this.currentOver=null,this.trigger(t)}if(u){const t=new d.DragOutContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(this.getClassNameFor("container:over")),this.currentOverContainer=null,this.trigger(t)}if(l){a.classList.add(this.getClassNameFor("container:over"));const t=new d.DragOverContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:a});this.currentOverContainer=a,this.trigger(t)}if(h){r.classList.add(this.getClassNameFor("draggable:over"));const t=new d.DragOverEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:e,overContainer:a,over:r});this.currentOver=r,this.trigger(t)}}[p](t){if(!this.dragging)return;this.dragging=!1;const e=new d.DragStopEvent({source:this.source,originalSource:this.originalSource,sensorEvent:t.sensorEvent,sourceContainer:this.sourceContainer});this.trigger(e),this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.parentNode.removeChild(this.source),this.originalSource.style.display="",this.source.classList.remove(this.getClassNameFor("source:dragging")),this.originalSource.classList.remove(this.getClassNameFor("source:original")),this.originalSource.classList.add(this.getClassNameFor("source:placed")),this.sourceContainer.classList.add(this.getClassNameFor("container:placed")),this.sourceContainer.classList.remove(this.getClassNameFor("container:dragging")),document.body.classList.remove(this.getClassNameFor("body:dragging")),_(document.body,""),this.currentOver&&this.currentOver.classList.remove(this.getClassNameFor("draggable:over")),this.currentOverContainer&&this.currentOverContainer.classList.remove(this.getClassNameFor("container:over")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(this.getClassNameFor("source:placed")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(this.getClassNameFor("container:placed")),this.lastPlacedSource=null,this.lastPlacedContainer=null},this.options.placedTimeout),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}[v](t){if(!this.dragging)return;const e=w(t),n=this.source||(0,o.closest)(e.originalEvent.target,this.options.draggable),r=new d.DragPressureEvent({sensorEvent:e,source:n,pressure:e.pressure});this.trigger(r)}}function w(t){return t.detail}function _(t,e){t.style.webkitUserSelect=e,t.style.mozUserSelect=e,t.style.msUserSelect=e,t.style.oUserSelect=e,t.style.userSelect=e}e.default=y,y.Plugins={Announcement:s.Announcement,Focusable:s.Focusable,Mirror:s.Mirror,Scrollable:s.Scrollable}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(4),o=(r=i)&&r.__esModule?r:{default:r},s=n(3);const a=Symbol("onMouseForceWillBegin"),u=Symbol("onMouseForceDown"),c=Symbol("onMouseDown"),l=Symbol("onMouseForceChange"),d=Symbol("onMouseMove"),h=Symbol("onMouseUp"),f=Symbol("onMouseForceGlobalChange");class p extends o.default{constructor(t=[],e={}){super(t,e),this.mightDrag=!1,this[a]=this[a].bind(this),this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this)}attach(){for(const t of this.containers)t.addEventListener("webkitmouseforcewillbegin",this[a],!1),t.addEventListener("webkitmouseforcedown",this[u],!1),t.addEventListener("mousedown",this[c],!0),t.addEventListener("webkitmouseforcechanged",this[l],!1);document.addEventListener("mousemove",this[d]),document.addEventListener("mouseup",this[h])}detach(){for(const t of this.containers)t.removeEventListener("webkitmouseforcewillbegin",this[a],!1),t.removeEventListener("webkitmouseforcedown",this[u],!1),t.removeEventListener("mousedown",this[c],!0),t.removeEventListener("webkitmouseforcechanged",this[l],!1);document.removeEventListener("mousemove",this[d]),document.removeEventListener("mouseup",this[h])}[a](t){t.preventDefault(),this.mightDrag=!0}[u](t){if(this.dragging)return;const e=document.elementFromPoint(t.clientX,t.clientY),n=t.currentTarget,r=new s.DragStartSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r),this.currentContainer=n,this.dragging=!r.canceled(),this.mightDrag=!1}[h](t){if(!this.dragging)return;const e=new s.DragStopSensorEvent({clientX:t.clientX,clientY:t.clientY,target:null,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,e),this.currentContainer=null,this.dragging=!1,this.mightDrag=!1}[c](t){this.mightDrag&&(t.stopPropagation(),t.stopImmediatePropagation(),t.preventDefault())}[d](t){if(!this.dragging)return;const e=document.elementFromPoint(t.clientX,t.clientY),n=new s.DragMoveSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}[l](t){if(this.dragging)return;const e=t.target,n=t.currentTarget,r=new s.DragPressureSensorEvent({pressure:t.webkitForce,clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r)}[f](t){if(!this.dragging)return;const e=t.target,n=new s.DragPressureSensorEvent({pressure:t.webkitForce,clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}}e.default=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(38),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(2),o=n(4),s=(r=o)&&r.__esModule?r:{default:r},a=n(3);const u=Symbol("onMouseDown"),c=Symbol("onMouseUp"),l=Symbol("onDragStart"),d=Symbol("onDragOver"),h=Symbol("onDragEnd"),f=Symbol("onDrop"),p=Symbol("reset");class v extends s.default{constructor(t=[],e={}){super(t,e),this.mouseDownTimeout=null,this.draggableElement=null,this.nativeDraggableElement=null,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this),this[f]=this[f].bind(this)}attach(){document.addEventListener("mousedown",this[u],!0)}detach(){document.removeEventListener("mousedown",this[u],!0)}[l](t){t.dataTransfer.setData("text",""),t.dataTransfer.effectAllowed=this.options.type;const e=document.elementFromPoint(t.clientX,t.clientY);if(this.currentContainer=(0,i.closest)(t.target,this.containers),!this.currentContainer)return;const n=new a.DragStartSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});setTimeout(()=>{this.trigger(this.currentContainer,n),n.canceled()?this.dragging=!1:this.dragging=!0},0)}[d](t){if(!this.dragging)return;const e=document.elementFromPoint(t.clientX,t.clientY),n=this.currentContainer,r=new a.DragMoveSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r),r.canceled()||(t.preventDefault(),t.dataTransfer.dropEffect=this.options.type)}[h](t){if(!this.dragging)return;document.removeEventListener("mouseup",this[c],!0);const e=document.elementFromPoint(t.clientX,t.clientY),n=this.currentContainer,r=new a.DragStopSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r),this.dragging=!1,this[p]()}[f](t){t.preventDefault()}[u](t){if(t.target&&(t.target.form||t.target.contenteditable))return;const e=(0,i.closest)(t.target,t=>t.draggable);e&&(e.draggable=!1,this.nativeDraggableElement=e),document.addEventListener("mouseup",this[c],!0),document.addEventListener("dragstart",this[l],!1),document.addEventListener("dragover",this[d],!1),document.addEventListener("dragend",this[h],!1),document.addEventListener("drop",this[f],!1);const n=(0,i.closest)(t.target,this.options.draggable);n&&(this.mouseDownTimeout=setTimeout(()=>{n.draggable=!0,this.draggableElement=n},this.options.delay))}[c](){this[p]()}[p](){clearTimeout(this.mouseDownTimeout),document.removeEventListener("mouseup",this[c],!0),document.removeEventListener("dragstart",this[l],!1),document.removeEventListener("dragover",this[d],!1),document.removeEventListener("dragend",this[h],!1),document.removeEventListener("drop",this[f],!1),this.nativeDraggableElement&&(this.nativeDraggableElement.draggable=!0,this.nativeDraggableElement=null),this.draggableElement&&(this.draggableElement.draggable=!1,this.draggableElement=null)}}e.default=v},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(40),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(2),o=n(4),s=(r=o)&&r.__esModule?r:{default:r},a=n(3);const u=Symbol("onTouchStart"),c=Symbol("onTouchHold"),l=Symbol("onTouchEnd"),d=Symbol("onTouchMove");let h=!1;window.addEventListener("touchmove",t=>{h&&t.preventDefault()},{passive:!1});class f extends s.default{constructor(t=[],e={}){super(t,e),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this)}attach(){document.addEventListener("touchstart",this[u])}detach(){document.removeEventListener("touchstart",this[u])}[u](t){const e=(0,i.closest)(t.target,this.containers);e&&(document.addEventListener("touchmove",this[d]),document.addEventListener("touchend",this[l]),document.addEventListener("touchcancel",this[l]),e.addEventListener("contextmenu",p),this.currentContainer=e,this.tapTimeout=setTimeout(this[c](t,e),this.options.delay))}[c](t,e){return()=>{if(this.touchMoved)return;const n=t.touches[0]||t.changedTouches[0],r=t.target,i=new a.DragStartSensorEvent({clientX:n.pageX,clientY:n.pageY,target:r,container:e,originalEvent:t});this.trigger(e,i),this.dragging=!i.canceled(),h=this.dragging}}[d](t){if(this.touchMoved=!0,!this.dragging)return;const e=t.touches[0]||t.changedTouches[0],n=document.elementFromPoint(e.pageX-window.scrollX,e.pageY-window.scrollY),r=new a.DragMoveSensorEvent({clientX:e.pageX,clientY:e.pageY,target:n,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,r)}[l](t){if(this.touchMoved=!1,h=!1,document.removeEventListener("touchend",this[l]),document.removeEventListener("touchcancel",this[l]),document.removeEventListener("touchmove",this[d]),this.currentContainer&&this.currentContainer.removeEventListener("contextmenu",p),clearTimeout(this.tapTimeout),!this.dragging)return;const e=t.touches[0]||t.changedTouches[0],n=document.elementFromPoint(e.pageX-window.scrollX,e.pageY-window.scrollY);t.preventDefault();const r=new a.DragStopSensorEvent({clientX:e.pageX,clientY:e.pageY,target:n,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,r),this.currentContainer=null,this.dragging=!1}}function p(t){t.preventDefault(),t.stopPropagation()}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(42),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragPressureSensorEvent=e.DragStopSensorEvent=e.DragMoveSensorEvent=e.DragStartSensorEvent=e.SensorEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get pressure(){return this.data.pressure}}e.SensorEvent=s;class a extends s{}e.DragStartSensorEvent=a,a.type="drag:start";class u extends s{}e.DragMoveSensorEvent=u,u.type="drag:move";class c extends s{}e.DragStopSensorEvent=c,c.type="drag:stop";class l extends s{}e.DragPressureSensorEvent=l,l.type="drag:pressure"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(2),o=n(4),s=(r=o)&&r.__esModule?r:{default:r},a=n(3);const u=Symbol("onContextMenuWhileDragging"),c=Symbol("onMouseDown"),l=Symbol("onMouseMove"),d=Symbol("onMouseUp");class h extends s.default{constructor(t=[],e={}){super(t,e),this.mouseDown=!1,this.mouseDownTimeout=null,this.openedContextMenu=!1,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this)}attach(){document.addEventListener("mousedown",this[c],!0)}detach(){document.removeEventListener("mousedown",this[c],!0)}[c](t){if(0!==t.button||t.ctrlKey||t.metaKey)return;document.addEventListener("mouseup",this[d]);const e=document.elementFromPoint(t.clientX,t.clientY),n=(0,i.closest)(e,this.containers);n&&(document.addEventListener("dragstart",f),this.mouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{if(!this.mouseDown)return;const r=new a.DragStartSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:n,originalEvent:t});this.trigger(n,r),this.currentContainer=n,this.dragging=!r.canceled(),this.dragging&&(document.addEventListener("contextmenu",this[u]),document.addEventListener("mousemove",this[l]))},this.options.delay))}[l](t){if(!this.dragging)return;const e=document.elementFromPoint(t.clientX,t.clientY),n=new a.DragMoveSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n)}[d](t){if(this.mouseDown=Boolean(this.openedContextMenu),this.openedContextMenu)return void(this.openedContextMenu=!1);if(document.removeEventListener("mouseup",this[d]),document.removeEventListener("dragstart",f),!this.dragging)return;const e=document.elementFromPoint(t.clientX,t.clientY),n=new a.DragStopSensorEvent({clientX:t.clientX,clientY:t.clientY,target:e,container:this.currentContainer,originalEvent:t});this.trigger(this.currentContainer,n),document.removeEventListener("contextmenu",this[u]),document.removeEventListener("mousemove",this[l]),this.currentContainer=null,this.dragging=!1}[u](t){t.preventDefault(),this.openedContextMenu=!0}}function f(t){t.preventDefault()}e.default=h},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(45),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=class{constructor(t=[],e={}){this.containers=[...t],this.options=r({},e),this.dragging=!1,this.currentContainer=null}attach(){return this}detach(){return this}addContainer(...t){this.containers=[...this.containers,...t]}removeContainer(...t){this.containers=this.containers.filter(e=>!t.includes(e))}trigger(t,e){const n=document.createEvent("Event");return n.detail=e,n.initEvent(e.type,!0,!0),t.dispatchEvent(n),this.lastEvent=e,e}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){return requestAnimationFrame(()=>{requestAnimationFrame(t)})}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(48),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(!t)return null;const n=e,i=e,o=e,s=e,a=Boolean("string"==typeof e),u=Boolean("function"==typeof e),c=Boolean(e instanceof NodeList||e instanceof Array),l=Boolean(e instanceof HTMLElement);let d=t;do{if(d=d.correspondingUseElement||d.correspondingElement||d,(h=d)?a?r.call(h,n):c?[...o].includes(h):l?s===h:u&&i(h):h)return d;d=d.parentNode}while(d&&d!==document.body&&d!==document);var h;return null};const r=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(50),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.scroll=e.onDragStop=e.onDragMove=e.onDragStart=void 0;var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),s=(r=o)&&r.__esModule?r:{default:r},a=n(2);const u=e.onDragStart=Symbol("onDragStart"),c=e.onDragMove=Symbol("onDragMove"),l=e.onDragStop=Symbol("onDragStop"),d=e.scroll=Symbol("scroll"),h=e.defaultOptions={speed:6,sensitivity:50,scrollableElements:[]};class f extends s.default{constructor(t){super(t),this.options=i({},h,this.getOptions()),this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[u]=this[u].bind(this),this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this)}attach(){this.draggable.on("drag:start",this[u]).on("drag:move",this[c]).on("drag:stop",this[l])}detach(){this.draggable.off("drag:start",this[u]).off("drag:move",this[c]).off("drag:stop",this[l])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(t){return this.hasDefinedScrollableElements()?(0,a.closest)(t,this.options.scrollableElements)||document.documentElement:function(t){if(!t)return p();const e=getComputedStyle(t).getPropertyValue("position"),n="absolute"===e,r=(0,a.closest)(t,t=>(!n||!function(t){return"static"===getComputedStyle(t).getPropertyValue("position")}(t))&&function(t){const e=getComputedStyle(t,null),n=e.getPropertyValue("overflow")+e.getPropertyValue("overflow-y")+e.getPropertyValue("overflow-x");return/(auto|scroll)/.test(n)}(t));return"fixed"!==e&&r?r:p()}(t)}hasDefinedScrollableElements(){return Boolean(0!==this.options.scrollableElements.length)}[u](t){this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(t.source)})}[c](t){if(this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(t.sensorEvent.target)}),!this.scrollableElement)return;const e=t.sensorEvent,n={x:0,y:0};"ontouchstart"in window&&(n.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,n.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:e.clientX-n.x,clientY:e.clientY-n.y},this.scrollAnimationFrame=requestAnimationFrame(this[d])}[l](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[d](){if(!this.scrollableElement||!this.currentMousePosition)return;cancelAnimationFrame(this.scrollAnimationFrame);const{speed:t,sensitivity:e}=this.options,n=this.scrollableElement.getBoundingClientRect(),r=n.bottom>window.innerHeight,i=n.top<0||r,o=p(),s=this.scrollableElement,a=this.currentMousePosition.clientX,u=this.currentMousePosition.clientY;if(s===document.body||s===document.documentElement||i){const{innerHeight:n,innerWidth:r}=window;u<e?o.scrollTop-=t:n-u<e&&(o.scrollTop+=t),a<e?o.scrollLeft-=t:r-a<e&&(o.scrollLeft+=t)}else{const{offsetHeight:r,offsetWidth:i}=s;n.top+r-u<e?s.scrollTop+=t:u-n.top<e&&(s.scrollTop-=t),n.left+i-a<e?s.scrollLeft+=t:a-n.left<e&&(s.scrollLeft-=t)}this.scrollAnimationFrame=requestAnimationFrame(this[d])}}function p(){return document.scrollingElement||document.documentElement}e.default=f},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=n(52),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default,e.defaultOptions=i.defaultOptions},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.MirrorDestroyEvent=e.MirrorMoveEvent=e.MirrorAttachedEvent=e.MirrorCreatedEvent=e.MirrorCreateEvent=e.MirrorEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}e.MirrorEvent=s;class a extends s{}e.MirrorCreateEvent=a,a.type="mirror:create";class u extends s{get mirror(){return this.data.mirror}}e.MirrorCreatedEvent=u,u.type="mirror:created";class c extends s{get mirror(){return this.data.mirror}}e.MirrorAttachedEvent=c,c.type="mirror:attached";class l extends s{get mirror(){return this.data.mirror}}e.MirrorMoveEvent=l,l.type="mirror:move",l.cancelable=!0;class d extends s{get mirror(){return this.data.mirror}}e.MirrorDestroyEvent=d,d.type="mirror:destroy",d.cancelable=!0},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(54);Object.keys(r).forEach((function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return r[t]}})}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=e.getAppendableContainer=e.onScroll=e.onMirrorMove=e.onMirrorCreated=e.onDragStop=e.onDragMove=e.onDragStart=void 0;var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),s=(r=o)&&r.__esModule?r:{default:r},a=n(55);function u(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}const c=e.onDragStart=Symbol("onDragStart"),l=e.onDragMove=Symbol("onDragMove"),d=e.onDragStop=Symbol("onDragStop"),h=e.onMirrorCreated=Symbol("onMirrorCreated"),f=e.onMirrorMove=Symbol("onMirrorMove"),p=e.onScroll=Symbol("onScroll"),v=e.getAppendableContainer=Symbol("getAppendableContainer"),b=e.defaultOptions={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null};class g extends s.default{constructor(t){super(t),this.options=i({},b,this.getOptions()),this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[c]=this[c].bind(this),this[l]=this[l].bind(this),this[d]=this[d].bind(this),this[h]=this[h].bind(this),this[f]=this[f].bind(this),this[p]=this[p].bind(this)}attach(){this.draggable.on("drag:start",this[c]).on("drag:move",this[l]).on("drag:stop",this[d]).on("mirror:created",this[h]).on("mirror:move",this[f])}detach(){this.draggable.off("drag:start",this[c]).off("drag:move",this[l]).off("drag:stop",this[d]).off("mirror:created",this[h]).off("mirror:move",this[f])}getOptions(){return this.draggable.options.mirror||{}}[c](t){if(t.canceled())return;"ontouchstart"in window&&document.addEventListener("scroll",this[p],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:e,originalSource:n,sourceContainer:r,sensorEvent:i}=t,o=new a.MirrorCreateEvent({source:e,originalSource:n,sourceContainer:r,sensorEvent:i,dragEvent:t});if(this.draggable.trigger(o),function(t){return/^drag/.test(t.originalEvent.type)}(i)||o.canceled())return;const s=this[v](e)||r;this.mirror=e.cloneNode(!0);const u=new a.MirrorCreatedEvent({source:e,originalSource:n,sourceContainer:r,sensorEvent:i,dragEvent:t,mirror:this.mirror}),c=new a.MirrorAttachedEvent({source:e,originalSource:n,sourceContainer:r,sensorEvent:i,dragEvent:t,mirror:this.mirror});this.draggable.trigger(u),s.appendChild(this.mirror),this.draggable.trigger(c)}[l](t){if(!this.mirror||t.canceled())return;const{source:e,originalSource:n,sourceContainer:r,sensorEvent:i}=t,o=new a.MirrorMoveEvent({source:e,originalSource:n,sourceContainer:r,sensorEvent:i,dragEvent:t,mirror:this.mirror});this.draggable.trigger(o)}[d](t){if("ontouchstart"in window&&document.removeEventListener("scroll",this[p],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},!this.mirror)return;const{source:e,sourceContainer:n,sensorEvent:r}=t,i=new a.MirrorDestroyEvent({source:e,mirror:this.mirror,sourceContainer:n,sensorEvent:r,dragEvent:t});this.draggable.trigger(i),i.canceled()||this.mirror.parentNode.removeChild(this.mirror)}[p](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[h]({mirror:t,source:e,sensorEvent:n}){const r={mirror:t,source:e,sensorEvent:n,mirrorClass:this.draggable.getClassNameFor("mirror"),scrollOffset:this.scrollOffset,options:this.options};return Promise.resolve(r).then(m).then(y).then(w).then(_).then(E({initial:!0})).then(x).then(t=>{let{mirrorOffset:e,initialX:n,initialY:r}=t,o=u(t,["mirrorOffset","initialX","initialY"]);return this.mirrorOffset=e,this.initialX=n,this.initialY=r,i({mirrorOffset:e,initialX:n,initialY:r},o)})}[f](t){if(t.canceled())return null;const e={mirror:t.mirror,sensorEvent:t.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset};return Promise.resolve(e).then(E({raf:!0}))}[v](t){const e=this.options.appendTo;return"string"==typeof e?document.querySelector(e):e instanceof HTMLElement?e:"function"==typeof e?e(t):t.parentNode}}function m(t){let{source:e}=t,n=u(t,["source"]);return S(t=>{const r=e.getBoundingClientRect();t(i({source:e,sourceRect:r},n))})}function y(t){let{sensorEvent:e,sourceRect:n,options:r}=t,o=u(t,["sensorEvent","sourceRect","options"]);return S(t=>{const s=null===r.cursorOffsetY?e.clientY-n.top:r.cursorOffsetY,a=null===r.cursorOffsetX?e.clientX-n.left:r.cursorOffsetX;t(i({sensorEvent:e,sourceRect:n,mirrorOffset:{top:s,left:a},options:r},o))})}function w(t){let{mirror:e,source:n,options:r}=t,o=u(t,["mirror","source","options"]);return S(t=>{let s,a;if(r.constrainDimensions){const t=getComputedStyle(n);s=t.getPropertyValue("height"),a=t.getPropertyValue("width")}e.style.position="fixed",e.style.pointerEvents="none",e.style.top=0,e.style.left=0,e.style.margin=0,r.constrainDimensions&&(e.style.height=s,e.style.width=a),t(i({mirror:e,source:n,options:r},o))})}function _(t){let{mirror:e,mirrorClass:n}=t,r=u(t,["mirror","mirrorClass"]);return S(t=>{e.classList.add(n),t(i({mirror:e,mirrorClass:n},r))})}function x(t){let{mirror:e}=t,n=u(t,["mirror"]);return S(t=>{e.removeAttribute("id"),delete e.id,t(i({mirror:e},n))})}function E({withFrame:t=!1,initial:e=!1}={}){return n=>{let{mirror:r,sensorEvent:o,mirrorOffset:s,initialY:a,initialX:c,scrollOffset:l,options:d}=n,h=u(n,["mirror","sensorEvent","mirrorOffset","initialY","initialX","scrollOffset","options"]);return S(t=>{const n=i({mirror:r,sensorEvent:o,mirrorOffset:s,options:d},h);if(s){const t=o.clientX-s.left-l.x,i=o.clientY-s.top-l.y;d.xAxis&&d.yAxis||e?r.style.transform=`translate3d(${t}px, ${i}px, 0)`:d.xAxis&&!d.yAxis?r.style.transform=`translate3d(${t}px, ${a}px, 0)`:d.yAxis&&!d.xAxis&&(r.style.transform=`translate3d(${c}px, ${i}px, 0)`),e&&(n.initialX=t,n.initialY=i)}t(n)},{frame:t})}}function S(t,{raf:e=!1}={}){return new Promise((n,r)=>{e?requestAnimationFrame(()=>{t(n,r)}):t(n,r)})}e.default=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=n(56),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default,e.defaultOptions=i.defaultOptions},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),s=(r=o)&&r.__esModule?r:{default:r};const a=Symbol("onInitialize"),u=Symbol("onDestroy"),c={};class l extends s.default{constructor(t){super(t),this.options=i({},c,this.getOptions()),this[a]=this[a].bind(this),this[u]=this[u].bind(this)}attach(){this.draggable.on("draggable:initialize",this[a]).on("draggable:destroy",this[u])}detach(){this.draggable.off("draggable:initialize",this[a]).off("draggable:destroy",this[u])}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[a](){requestAnimationFrame(()=>{this.getElements().forEach(t=>function(t){Boolean(!t.getAttribute("tabindex")&&-1===t.tabIndex)&&(d.push(t),t.tabIndex=0)}(t))})}[u](){requestAnimationFrame(()=>{this.getElements().forEach(t=>function(t){const e=d.indexOf(t);-1!==e&&(t.tabIndex=-1,d.splice(e,1))}(t))})}}e.default=l;const d=[]},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r,i=n(58),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=class{constructor(t){this.draggable=t}attach(){throw new Error("Not Implemented")}detach(){throw new Error("Not Implemented")}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(1),s=(r=o)&&r.__esModule?r:{default:r};const a=Symbol("onInitialize"),u=Symbol("onDestroy"),c=Symbol("announceEvent"),l=Symbol("announceMessage"),d=e.defaultOptions={expire:7e3};class h extends s.default{constructor(t){super(t),this.options=i({},d,this.getOptions()),this.originalTriggerMethod=this.draggable.trigger,this[a]=this[a].bind(this),this[u]=this[u].bind(this)}attach(){this.draggable.on("draggable:initialize",this[a])}detach(){this.draggable.off("draggable:destroy",this[u])}getOptions(){return this.draggable.options.announcements||{}}[c](t){const e=this.options[t.type];e&&"string"==typeof e&&this[l](e),e&&"function"==typeof e&&this[l](e(t))}[l](t){!function(t,{expire:e}){const n=document.createElement("div");n.textContent=t,f.appendChild(n),setTimeout(()=>{f.removeChild(n)},e)}(t,{expire:this.options.expire})}[a](){this.draggable.trigger=t=>{try{this[c](t)}finally{this.originalTriggerMethod.call(this.draggable,t)}}}[u](){this.draggable.trigger=this.originalTriggerMethod}}e.default=h;const f=function(){const t=document.createElement("div");return t.setAttribute("id","draggable-live-region"),t.setAttribute("aria-relevant","additions"),t.setAttribute("aria-atomic","true"),t.setAttribute("aria-live","assertive"),t.setAttribute("role","log"),t.style.position="fixed",t.style.width="1px",t.style.height="1px",t.style.top="-1px",t.style.overflow="hidden",t}();document.addEventListener("DOMContentLoaded",()=>{document.body.appendChild(f)})},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.defaultOptions=void 0;var r,i=n(61),o=(r=i)&&r.__esModule?r:{default:r};e.default=o.default,e.defaultOptions=i.defaultOptions},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DraggableDestroyEvent=e.DraggableInitializedEvent=e.DraggableEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get draggable(){return this.data.draggable}}e.DraggableEvent=s,s.type="draggable";class a extends s{}e.DraggableInitializedEvent=a,a.type="draggable:initialize";class u extends s{}e.DraggableDestroyEvent=u,u.type="draggable:destroy"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};const i=Symbol("canceled");class o{constructor(t){this[i]=!1,this.data=t}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this[i]=!0}canceled(){return Boolean(this[i])}clone(t){return new this.constructor(r({},this.data,t))}}e.default=o,o.type="event",o.cancelable=!1},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DragStopEvent=e.DragPressureEvent=e.DragOutContainerEvent=e.DragOverContainerEvent=e.DragOutEvent=e.DragOverEvent=e.DragMoveEvent=e.DragStartEvent=e.DragEvent=void 0;var r,i=n(0),o=(r=i)&&r.__esModule?r:{default:r};class s extends o.default{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}e.DragEvent=s,s.type="drag";class a extends s{}e.DragStartEvent=a,a.type="drag:start",a.cancelable=!0;class u extends s{}e.DragMoveEvent=u,u.type="drag:move";class c extends s{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}e.DragOverEvent=c,c.type="drag:over",c.cancelable=!0;class l extends s{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}e.DragOutEvent=l,l.type="drag:out";class d extends s{get overContainer(){return this.data.overContainer}}e.DragOverContainerEvent=d,d.type="drag:over:container";class h extends s{get overContainer(){return this.data.overContainer}}e.DragOutContainerEvent=h,h.type="drag:out:container";class f extends s{get pressure(){return this.data.pressure}}e.DragPressureEvent=f,f.type="drag:pressure";class p extends s{}e.DragStopEvent=p,p.type="drag:stop"},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Plugins=e.Sensors=e.Sortable=e.Swappable=e.Droppable=e.Draggable=e.BasePlugin=e.BaseEvent=void 0;var r=n(5);Object.defineProperty(e,"Draggable",{enumerable:!0,get:function(){return h(r).default}});var i=n(34);Object.defineProperty(e,"Droppable",{enumerable:!0,get:function(){return h(i).default}});var o=n(31);Object.defineProperty(e,"Swappable",{enumerable:!0,get:function(){return h(o).default}});var s=n(28);Object.defineProperty(e,"Sortable",{enumerable:!0,get:function(){return h(s).default}});var a=h(n(0)),u=h(n(1)),c=d(n(6)),l=d(n(25));function d(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}e.BaseEvent=a.default,e.BasePlugin=u.default,e.Sensors=c,e.Plugins=l}])},t.exports=r()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Hand=void 0;var r=function(){function t(){this.cards=[]}return Object.defineProperty(t.prototype,"score",{get:function(){return this.cards.reduce((function(t,e){return t+=e.score}),0)},enumerable:!1,configurable:!0}),t.prototype.addCard=function(t){this.cards.push(t)},t.prototype.addCards=function(t){var e;(e=this.cards).push.apply(e,t)},t.prototype.removeCard=function(t){if(!t)throw new Error("La mano del jugador no posee cartas");var e=this.cards.findIndex((function(e){return e.id===t.id}));if(-1===e)throw new Error("La mano del jugador no posee la carta: "+t.id);this.cards.splice(e,1)},t.prototype.removeCards=function(t){for(var e=0;e<t.length;e++)this.removeCard(t[e])},t.prototype.hasCard=function(t,e){return e?this.cards.some((function(n){return n.value===t&&n.color===e})):this.cards.some((function(e){return e.value===t}))},t}();e.Hand=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameEngine=void 0;var r=n(104),i=n(79),o=n(86),s=n(112),a=n(42),u=n(59),c=n(15),l=function(){function t(){this.state=new r.GameState,this.commandService=new s.CommandService,this.gameEvents=i.GameEvents.getInstance()}return Object.defineProperty(t.prototype,"events",{get:function(){var t;return(t={})[o.GameEvent.AFTER_GAME_START]=this.gameEvents.afterGameStart$,t[o.GameEvent.AFTER_PLAY_CARD]=this.gameEvents.afterPlayCard$,t[o.GameEvent.AFTER_TAKE_CARDS]=this.gameEvents.afterTakeCards$,t[o.GameEvent.AFTER_YELL_UNO]=this.gameEvents.afterYellUno$,t[o.GameEvent.BEFORE_TURN]=this.gameEvents.beforeTurn$,t[o.GameEvent.GAME_END]=this.gameEvents.gameEnd$,t[o.GameEvent.CHANGE_COLOR]=this.gameEvents.changeColor$,t[o.GameEvent.SKIP]=this.gameEvents.skip$,t[o.GameEvent.REVERSE]=this.gameEvents.reverse$,t[o.GameEvent.ERROR]=this.gameEvents.error$,t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"players",{get:function(){return this.state.playersGroup.players},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playerTurn",{get:function(){return this.state.turn.player},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"stackCard",{get:function(){return this.state.stack.cardOnTop},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"modes",{get:function(){return this.state.gameModes},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gameStateAsJSON",{get:function(){return{id:this.state.id,deck:this.state.deck,stack:this.state.stack,playersGroup:this.state.playersGroup,turn:this.state.turn,unoYellers:this.state.unoYellers,gameDirection:this.state.gameDirection,cardsToGive:this.state.cardsToGive,gameModes:this.state.gameModes}},enumerable:!1,configurable:!0}),t.prototype.start=function(t){return this.commandService.startGame(this.state,t).pipe(u.catchError(this.handleError()))},t.prototype.reset=function(t){return this.commandService.resetGame(this.state,t).pipe(u.catchError(this.handleError()))},t.prototype.join=function(t){return this.commandService.addPlayers(this.state,t).pipe(u.catchError(this.handleError()))},t.prototype.remove=function(t){return this.commandService.removePlayer(this.state,t).pipe(u.catchError(this.handleError()))},t.prototype.playCard=function(t,e,n){return this.commandService.playCard(this.state,t,e,n).pipe(u.catchError(this.handleError()))},t.prototype.takeCard=function(){return this.commandService.takeCard(this.state).pipe(u.catchError(this.handleError()))},t.prototype.takeCardToRandomPlayer=function(){return this.commandService.takeCardToRandomPlayer(this.state).pipe(u.catchError(this.handleError()))},t.prototype.uno=function(t){return this.commandService.yellUno(this.state,t).pipe(u.catchError(this.handleError()))},t.prototype.switchHands=function(t,e){return this.commandService.switchHands(this.state,t,e).pipe(u.catchError(this.handleError()))},t.prototype.overrideInternalState=function(t){this.state.overrideInternalState(t)},t.prototype.logs=function(){return this.state.logs(c.LogLevel.ALL)},t.prototype.handleError=function(){var t=this;return function(e){return t.gameEvents.dispatchError(e),a.of(e)}},t}();e.GameEngine=l},function(t,e,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.GameState=void 0;var i=n(105),o=n(106),s=n(107),a=n(108),u=n(85),c=n(78),l=n(84),d=n(79),h=n(55),f=n(42),p=n(110),v=n(15),b=n(59),g=function(){function t(){this.id=(new Date).getTime(),this.deck=new i.Deck,this.stack=new a.Stack,this.playersGroup=new o.PlayersGroup,this.turn=new s.Turn,this.events=d.GameEvents.getInstance(),this.gameDirection=u.GameDirection.CLOCKWISE,this.cardsToGive=0,this.unoYellers={},this.gameModes={randomTakeDeckCard:!1},this.winner=void 0,this.winnerScore=0,this.log$=new f.BehaviorSubject(p.LogFactory.default())}return Object.defineProperty(t.prototype,"nextPlayerToPlay",{get:function(){var t=this;if(!this.turn.player)return this.playersGroup.players[0];var e=this.playersGroup.players.findIndex((function(e){var n;return e.id===(null===(n=t.turn.player)||void 0===n?void 0:n.id)}))+1;return e<this.playersGroup.players.length?this.playersGroup.players[e]:this.playersGroup.players[0]},enumerable:!1,configurable:!0}),t.prototype.changeDirection=function(){var t=this.gameDirection===u.GameDirection.CLOCKWISE?u.GameDirection.COUNTER_CLOCKWISE:u.GameDirection.CLOCKWISE;this.gameDirection=t,this.playersGroup.players.reverse()},t.prototype.giveCards=function(t,e){t>this.deck.cards.length&&this.addStackCardsToDeck();for(var n=[],i=0;i<t;i++)n=r(n,[this.deck.takeCard()]);return e.hand.addCards(n),n},t.prototype.addStackCardsToDeck=function(){var t=this,e=this.stack.cards.filter((function(e){var n;return e.id!==(null===(n=t.stack.cardOnTop)||void 0===n?void 0:n.id)}));this.deck.addCards(e);var n=this.stack.cardOnTop;if(!n)throw new Error("No se pudo obtener la carta de la cima del stack");this.stack.empty(),this.stack.addCard(n),this.deck.shuffle()},t.prototype.overrideInternalState=function(t){this.id=t.id,this.deck.cards=t.deck.cards.map((function(t){return new c.Card(t.value,t.color,t.id)})),this.stack.cards=t.stack.cards.map((function(t){if(t.value===h.Value.PLUS_FOUR||t.value===h.Value.WILDCARD){var e=new c.Card(t.value,void 0,t.id);return e.setColor(t.color),e}return new c.Card(t.value,t.color,t.id)})),this.playersGroup.players=t.playersGroup.players.map((function(t){var e=new l.Player(t.id,t.name,t.pic);return e.hand.cards=t.hand.cards.map((function(t){return new c.Card(t.value,t.color,t.id)})),e})),this.turn.player=t.turn.player?this.playersGroup.players.find((function(e){var n;return e.id===(null===(n=t.turn.player)||void 0===n?void 0:n.id)})):void 0,this.unoYellers=t.unoYellers,this.gameDirection=t.gameDirection,this.cardsToGive=t.cardsToGive,this.gameModes=t.gameModes,this.winner=t.winner},t.prototype.setWinner=function(t,e){if(this.winner)throw new Error("Ya hay un ganador");this.winner=t,this.winnerScore=e},t.prototype.log=function(t,e){this.log$.next({level:null!=e?e:v.LogLevel.DEFAULT,mesagge:t})},t.prototype.logs=function(t){return this.log$.asObservable().pipe(b.filter((function(e){return e.level===t})))},t.prototype.getPlayersWhoShouldHaveYelled=function(){var t=this;return this.playersGroup.players.filter((function(e){var n;return e.id!==(null===(n=t.turn.player)||void 0===n?void 0:n.id)&&1===e.hand.cards.length&&!t.unoYellers[e.id]}))},t}();e.GameState=g},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Deck=void 0;var r=function(){function t(){this.cards=[]}return t.prototype.addCards=function(t){var e;(e=this.cards).push.apply(e,t)},t.prototype.shuffle=function(){for(var t,e,n=this.cards.length;0!==n;)e=Math.floor(Math.random()*n),n-=1,t=this.cards[n],this.cards[n]=this.cards[e],this.cards[e]=t},t.prototype.takeCard=function(){if(!this.cards.length)throw new Error("No hay cartas disponibles en el mazo");var t=this.cards.shift();if(!t)throw new Error("No ha sido posible tomar cartas del mazo");return t},t}();e.Deck=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.PlayersGroup=void 0;var r=function(){function t(){this.players=[]}return t.prototype.addPlayer=function(t){this.players.push(t)},t.prototype.addPlayers=function(t){var e;(e=this.players).push.apply(e,t)},t.prototype.removePlayer=function(t){this.players=this.players.filter((function(e){return e.id===t.id}))},t.prototype.shufflePlayers=function(){this.players.sort((function(){return Math.random()-.5}))},t.prototype.getPlayerById=function(t){var e=this.players.find((function(e){return e.id===t}));if(!e)throw new Error("El jugador con id "+t+" no esta en el grupo de jugadores");return e},t}();e.PlayersGroup=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Turn=void 0;var r=function(){function t(){this.player=void 0}return t.prototype.setPlayerTurn=function(t){this.player=t},t}();e.Turn=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Stack=void 0;var r=function(){function t(){this.cards=[]}return Object.defineProperty(t.prototype,"cardOnTop",{get:function(){if(this.cards.length)return this.cards[0]},enumerable:!1,configurable:!0}),t.prototype.addCard=function(t){if(!t)throw new Error("La carta ha llegado nula al intentar agregarla al stack");this.cards.unshift(t)},t.prototype.empty=function(){this.cards.splice(0,this.cards.length)},t}();e.Stack=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.generateUniqueId=void 0,e.generateUniqueId=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.LogFactory=void 0;var r=n(111),i=function(){function t(){}return t.default=function(){return new r.Log},t}();e.LogFactory=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Log=void 0;var r=n(15),i=function(){function t(){this.level=r.LogLevel.DEFAULT,this.mesagge=""}return t.prototype.default=function(){return new t},t}();e.Log=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandService=void 0;var r=n(113),i=n(114),o=n(116),s=n(117),a=n(118),u=n(123),c=n(124),l=n(125),d=n(127),h=n(128),f=n(129),p=function(){function t(){}return t.prototype.startGame=function(t,e){return new r.CommandsInvoker([new i.BuildDeckCommand,new o.StartGameCommand(e)]).invoke(t)},t.prototype.resetGame=function(t,e){return new r.CommandsInvoker([new i.BuildDeckCommand,new o.StartGameCommand(e)]).invoke(t)},t.prototype.addPlayers=function(t,e){return new r.CommandsInvoker([new s.AddPlayersCommand(e)]).invoke(t)},t.prototype.removePlayer=function(t,e){return new r.CommandsInvoker([new d.RemovePlayerCommand(e)]).invoke(t)},t.prototype.playCard=function(t,e,n,i){return new r.CommandsInvoker([new a.PlayCardCommand(e,n,i),new c.FinalizeTurnCommand]).invoke(t)},t.prototype.takeCard=function(t){return new r.CommandsInvoker([new u.TakeDeckCardCommand,new c.FinalizeTurnCommand]).invoke(t)},t.prototype.takeCardToRandomPlayer=function(t){return new r.CommandsInvoker([new h.TakeCardRandomPlayerCommand]).invoke(t)},t.prototype.yellUno=function(t,e){return new r.CommandsInvoker([new l.YellUnoCommand(e)]).invoke(t)},t.prototype.switchHands=function(t,e,n){return new r.CommandsInvoker([new f.SwitchHandsCommand(e,n)]).invoke(t)},t}();e.CommandService=p},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.CommandsInvoker=void 0;var r=n(42),i=n(15),o=function(){function t(t){this.commands=t}return t.prototype.invoke=function(t){var e=this;return new r.Observable((function(n){try{e.commands.forEach((function(e){t.log(e.toString(),i.LogLevel.BEFORE_VALIDATION);var r=e.validate(t);if(!r.isValid)return t.log(e.toString()+" invalid",i.LogLevel.AFTER_VALIDATION),void n.error(r.error);t.log(e.toString()+" valid",i.LogLevel.AFTER_VALIDATION),t.log(e.toString(),i.LogLevel.BEFORE_COMMAND),e.execute(t),t.log(e.toString(),i.LogLevel.BEFORE_COMMAND)})),n.next(),n.complete()}catch(t){n.error(t)}}))},t}();e.CommandsInvoker=o},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),o=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(e,"__esModule",{value:!0}),e.BuildDeckCommand=void 0;var s=n(26),a=n(78),u=n(115),c=n(55),l=n(27),d=n(15),h=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(t){t.deck.cards=[],t.log("Construyendo tablero",d.LogLevel.USER);var e=[c.Value.PLUS_FOUR,c.Value.WILDCARD];t.log("Cartas especiales "+JSON.stringify(e),d.LogLevel.USER),t.log("Agregando cartas",d.LogLevel.USER),t.deck.addCards(o(e.map((function(t){return new a.Card(t)})),e.map((function(t){return new a.Card(t)})))),u.COLORS.forEach((function(e){c.VALUES.filter((function(t){return t!==c.Value.WILDCARD&&t!==c.Value.PLUS_FOUR})).forEach((function(n){var r=new a.Card(n,e),i=new a.Card(n,e);t.deck.addCards([r,i])}))})),t.log("Agregando cartas",d.LogLevel.USER),t.log("Barajando",d.LogLevel.USER),t.deck.shuffle()},e.prototype.validate=function(t){return new l.CommandValidation(!0)},e}(s.GameCommand);e.BuildDeckCommand=h},function(t,e,n){"use strict";var r;Object.defineProperty(e,"__esModule",{value:!0}),e.isValidColor=e.COLORS=e.Color=void 0,function(t){t.RED="rojo",t.BLUE="azul",t.GREEN="verde",t.YELLOW="amarillo"}(r=e.Color||(e.Color={})),e.COLORS=[r.RED,r.BLUE,r.GREEN,r.YELLOW],e.isValidColor=function(t){return-1!==e.COLORS.indexOf(t)}},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.StartGameCommand=void 0;var o=n(26),s=n(27),a=n(87),u=n(15),c=n(80),l=function(t){function e(e){var n=t.call(this)||this;return n.gameModes=e||{randomTakeDeckCard:!1,dedicatePlusFour:!1},n}return i(e,t),e.prototype.execute=function(t){var e=c.Constants.NUMBER_OF_CARD_IN_HAND_ON_START;t.gameModes=this.gameModes,t.log(" Comienza el juego",u.LogLevel.USER),t.log(" Comienza el juego con modos "+JSON.stringify(t.gameModes)+" ",u.LogLevel.ALL),t.log(" Orden aleatorio a los jugadores",u.LogLevel.USER),t.playersGroup.shufflePlayers(),t.log("El orden de los jugadores es: "+t.playersGroup.players.map((function(t){return t.name})).join(", "),u.LogLevel.USER),t.log(" Repartiendo cartas",u.LogLevel.USER),t.playersGroup.players.forEach((function(n,r){n.hand.addCards(t.deck.cards.splice(r*e,e))}));for(var n=t.deck.takeCard();n.hasEffects();)t.log(" si la carta tiene efectos entonces busca otra "+n.sprite,u.LogLevel.ALL),t.log(" TODO: esto simplifica la logica por el momento pero deberia ser solo para +4 y elegir color",u.LogLevel.ALL),t.deck.addCards([n]),t.log("Barajando",u.LogLevel.USER),t.deck.shuffle(),n=t.deck.takeCard();t.stack.addCard(n),t.log(" Carta en la mesa "+n.sprite,u.LogLevel.USER);var r=t.playersGroup.players[0];t.log(" El primer turno es para "+r.name,u.LogLevel.USER),t.turn.setPlayerTurn(r),this.events.dispatchAfterGameStart(),this.events.dispatchBeforeTurn(new a.BeforeTurnEvent(r))},e.prototype.validate=function(t){return t.playersGroup.players.length?new s.CommandValidation(!0):new s.CommandValidation(!1,"No hay jugadores en la partida")},e}(o.GameCommand);e.StartGameCommand=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.AddPlayersCommand=void 0;var o=n(26),s=n(27),a=n(15),u=function(t){function e(e){var n=t.call(this)||this;return n.players=e,n}return i(e,t),e.prototype.execute=function(t){t.log("Jugadores: "+this.players.map((function(t){return t.name})).join(", "),a.LogLevel.USER),t.playersGroup.addPlayers(this.players)},e.prototype.validate=function(t){return this.players&&this.players.length?new s.CommandValidation(!0):new s.CommandValidation(!1,"Hubo un inconveniente con los jugadores ingresados")},e}(o.GameCommand);e.AddPlayersCommand=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.PlayCardCommand=void 0;var o=n(26),s=n(55),a=n(27),u=n(119),c=n(78),l=n(120),d=n(56),h=n(121),f=n(122),p=n(15),v=n(85),b=function(t){function e(e,n,r){var i=t.call(this)||this;return i.playerId=e,i.card=n instanceof c.Card?n:new c.Card(n.value,n.color,n.id),i.toPlayerId=r,i}return i(e,t),e.prototype.execute=function(t){var e,n,r,i,o,a,c,b;if(null===(e=t.turn.player)||void 0===e||e.hand.removeCard(this.card),t.stack.addCard(this.card),t.log(" "+(null===(n=t.turn.player)||void 0===n?void 0:n.name)+" juega la carta "+this.card,p.LogLevel.USER),0===(null===(r=t.turn.player)||void 0===r?void 0:r.hand.cards.length)&&t.unoYellers[null===(i=t.turn.player)||void 0===i?void 0:i.id]){var g=t.playersGroup.players.filter((function(e){var n;return e.id!==(null===(n=t.turn.player)||void 0===n?void 0:n.id)})).reduce((function(t,e){return t+=e.hand.score}),0);t.setWinner(t.turn.player,g),t.log(" "+t.turn.player+" es el ganador con score:"+g,p.LogLevel.ALL),this.events.dispatchGameEnd(new l.GameEndEvent(t.turn.player,g))}if(this.checkForPlayersWhoShouldHaveYelledUno(t),(null===(o=t.stack.cardOnTop)||void 0===o?void 0:o.value)===s.Value.PLUS_FOUR)if(t.log(" La carta jugada es un +4",p.LogLevel.USER),t.gameModes.dedicatePlusFour){t.log(" Se está jugando con +4s",p.LogLevel.USER);var m=t.playersGroup.getPlayerById(this.toPlayerId);y=t.giveCards(4,m);t.log(" Es un +4, "+m+" toma 4 cartas",p.LogLevel.USER),this.events.dispatchAfterTakeCards(new d.AfterTakeCardsEvent(y,m))}else{t.log(" Es importante el orden en que se aplica los efectos.",p.LogLevel.ALL),t.log(" Primero se aplica +4 y luego saltea turno.",p.LogLevel.ALL);var y=t.giveCards(4,t.nextPlayerToPlay);t.log(" Es un +4, "+t.nextPlayerToPlay+" toma las cartas "+y.map((function(t){return t.sprite})),p.LogLevel.ALL),t.log(" Es un +4, "+t.nextPlayerToPlay+" toma 4 cartas",p.LogLevel.USER),this.events.dispatchAfterTakeCards(new d.AfterTakeCardsEvent(y,t.nextPlayerToPlay)),t.turn.setPlayerTurn(t.nextPlayerToPlay)}if((null===(a=t.stack.cardOnTop)||void 0===a?void 0:a.value)===s.Value.PLUS_TWO&&(t.log(" La carta jugada es un +2",p.LogLevel.USER),t.cardsToGive+=2,!t.nextPlayerToPlay.hand.hasCard(s.Value.PLUS_TWO))){t.log(" El siguiente jugador no tiene +2",p.LogLevel.ALL),t.log(" "+t.nextPlayerToPlay+" debe tomar 2 cartas",p.LogLevel.USER);y=t.giveCards(t.cardsToGive,t.nextPlayerToPlay);this.events.dispatchAfterTakeCards(new d.AfterTakeCardsEvent(y,t.nextPlayerToPlay)),t.cardsToGive=0,t.turn.setPlayerTurn(t.nextPlayerToPlay)}(null===(c=t.stack.cardOnTop)||void 0===c?void 0:c.value)===s.Value.SKIP&&(t.log(" La carta jugada es un Salto",p.LogLevel.USER),t.log(" Se saltea a "+t.nextPlayerToPlay,p.LogLevel.USER),t.turn.setPlayerTurn(t.nextPlayerToPlay),this.events.dispatchSkip(new f.SkipEvent(t.nextPlayerToPlay))),(null===(b=t.stack.cardOnTop)||void 0===b?void 0:b.value)===s.Value.REVERSE&&(t.log(" La carta jugada inverte el sentido de la vuelta",p.LogLevel.USER),t.log(" Cambia de dirección a "+(t.gameDirection==v.GameDirection.CLOCKWISE?v.GameDirection.COUNTER_CLOCKWISE:v.GameDirection.CLOCKWISE),p.LogLevel.ALL),t.changeDirection(),2===t.playersGroup.players.length&&(t.log(" si son dos jugadores entonces funciona como SKIP",p.LogLevel.ALL),t.log(" Se saltea a "+t.nextPlayerToPlay,p.LogLevel.USER),t.turn.setPlayerTurn(t.nextPlayerToPlay)),this.events.dispatchReverse(new h.ReverseEvent(t.nextPlayerToPlay)));var w=t.playersGroup.getPlayerById(this.playerId);this.events.dispatchAfterPlayCard(new u.AfterPlayCardEvent(this.card,w))},e.prototype.validate=function(t){var e,n,r,i,o=this;if(t.winner)return new a.CommandValidation(!1,"Runox ya terminó");var u=t.playersGroup.getPlayerById(this.playerId);if(!u)return new a.CommandValidation(!1,"No ha sido posible encontrar al jugador en la partida");if(!t.turn.player)return new a.CommandValidation(!1,"No hay un turno activo");if(u.id!==t.turn.player.id)return new a.CommandValidation(!1,"No es el turno del jugador");if(!this.card)return new a.CommandValidation(!1,"No se ha encontrado la carta de la mano del jugador");if(!u.hand.cards.some((function(t){return t.id===o.card.id})))return new a.CommandValidation(!1,"El jugador no posee la carta seleccionada");if(((null===(e=this.card)||void 0===e?void 0:e.value)===s.Value.WILDCARD||(null===(n=this.card)||void 0===n?void 0:n.value)===s.Value.PLUS_FOUR)&&!this.card.color)return new a.CommandValidation(!1,"No se especifico el color de la carta");if((null===(r=t.stack.cardOnTop)||void 0===r?void 0:r.value)===s.Value.PLUS_TWO&&this.card.value!==s.Value.PLUS_TWO&&t.cardsToGive>0)return new a.CommandValidation(!1,"La carta que quiere tirar no es +2");if(t.stack.cardOnTop&&!(null===(i=this.card)||void 0===i?void 0:i.isPlayable(t.stack.cardOnTop)))return new a.CommandValidation(!1,"La carta que quiere tirar no tiene el mismo color o valor que la del stack");if(t.gameModes.dedicatePlusFour&&this.card.value===s.Value.PLUS_FOUR&&!this.toPlayerId)return new a.CommandValidation(!1,"Debe ingresar el identificador del jugador al que se le dedica el +4");if(t.gameModes.dedicatePlusFour&&this.card.value===s.Value.PLUS_FOUR&&this.toPlayerId&&!t.playersGroup.getPlayerById(this.toPlayerId))return new a.CommandValidation(!1,"No se encontro el jugador con id: "+this.toPlayerId);return new a.CommandValidation(!0)},e}(o.GameCommand);e.PlayCardCommand=b},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AfterPlayCardEvent=void 0;var r=function(t,e){this.card=t,this.player=e};e.AfterPlayCardEvent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.GameEndEvent=void 0;var r=function(t,e){this.winner=t,this.score=e};e.GameEndEvent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ReverseEvent=void 0;var r=function(t){this.player=t};e.ReverseEvent=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.SkipEvent=void 0;var r=function(t){this.player=t};e.SkipEvent=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TakeDeckCardCommand=void 0;var o=n(26),s=n(27),a=n(56),u=n(15),c=n(88),l=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(t){var e,n=t.turn.player;e=t.gameModes.randomTakeDeckCard?t.giveCards(c.randomizeInteger(1,5),n):t.giveCards(1,n),t.log(n.name+" toma las cartas "+e.map((function(t){return t.sprite})).join(", "),u.LogLevel.USER),this.events.dispatchAfterTakeCards(new a.AfterTakeCardsEvent(e,n)),t.unoYellers[n.id]=!1,this.checkForPlayersWhoShouldHaveYelledUno(t)},e.prototype.validate=function(t){return t.winner?new s.CommandValidation(!1,"Runox ya terminó"):t.turn.player?new s.CommandValidation(!0):new s.CommandValidation(!1,"No se le asigno turno a un jugador")},e}(o.GameCommand);e.TakeDeckCardCommand=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.FinalizeTurnCommand=void 0;var o=n(26),s=n(27),a=n(87),u=n(15),c=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(t){var e=t.nextPlayerToPlay;t.log(t.nextPlayerToPlay.name+" finaliza y continúa "+e.name,u.LogLevel.USER),t.turn.setPlayerTurn(e),this.events.dispatchBeforeTurn(new a.BeforeTurnEvent(e))},e.prototype.validate=function(t){return t.playersGroup.players.length?new s.CommandValidation(!0):new s.CommandValidation(!1,"No se puede finalizar el turno si no hay jugadores")},e}(o.GameCommand);e.FinalizeTurnCommand=c},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.YellUnoCommand=void 0;var o=n(26),s=n(27),a=n(56),u=n(126),c=n(15),l=n(80),d=function(t){function e(e){var n=t.call(this)||this;return n.yellerId=e,n}return i(e,t),e.prototype.execute=function(t){var e=this.yellerId?t.playersGroup.getPlayerById(this.yellerId):t.turn.player;if(t.log("es posible que el jugador tenga 2 cartas al momento de gritar UNO!",c.LogLevel.ALL),e.hand.cards.length<=2&&!t.unoYellers[e.id])t.log("si no grito antes entonces lo marca como que grito",c.LogLevel.ALL),t.unoYellers[e.id]=!0,t.log(e.name+" gritó UNO",c.LogLevel.USER),this.events.dispatchAfterYellUno(new u.AfterYellUnoEvent(e));else if(t.log("si tiene mas de 2 cartas o ya habia gritado entonces debemos validar que no haya mentido",c.LogLevel.ALL),e.hand.cards.length>2){var n=t.giveCards(l.Constants.PENALITY_FOR_YELL_UNO,e);t.log(e.name+" toma dos cartas por cantar UNO cuando no debía",c.LogLevel.USER),this.events.dispatchAfterTakeCards(new a.AfterTakeCardsEvent(n,e))}},e.prototype.validate=function(t){return t.winner?new s.CommandValidation(!1,"Runox ya terminó"):new s.CommandValidation(!0)},e}(o.GameCommand);e.YellUnoCommand=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.AfterYellUnoEvent=void 0;var r=function(t){this.yeller=t};e.AfterYellUnoEvent=r},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.RemovePlayerCommand=void 0;var o=n(26),s=n(27),a=n(15),u=function(t){function e(e){var n=t.call(this)||this;return n.player=e,n}return i(e,t),e.prototype.execute=function(t){t.log("Jugadores: "+this.player,a.LogLevel.USER),t.playersGroup.removePlayer(this.player)},e.prototype.validate=function(t){return this.player?new s.CommandValidation(!0):new s.CommandValidation(!1,"Hubo un inconveniente con los jugadores a remover")},e}(o.GameCommand);e.RemovePlayerCommand=u},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.TakeCardRandomPlayerCommand=void 0;var o=n(26),s=n(27),a=n(56),u=n(15),c=n(88),l=function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.execute=function(t){var e,n=c.randomizeInteger(0,t.playersGroup.players.length),r=t.playersGroup.players[n];e=t.gameModes.randomTakeDeckCard?t.giveCards(c.randomizeInteger(1,5),r):t.giveCards(1,r),t.log(r.name+" toma por sorpresa las cartas "+e.map((function(t){return t.sprite})).join(", "),u.LogLevel.USER),this.events.dispatchAfterTakeCards(new a.AfterTakeCardsEvent(e,r)),t.unoYellers[r.id]=!1,this.checkForPlayersWhoShouldHaveYelledUno(t)},e.prototype.validate=function(t){return t.gameModes.crazyCommands?t.winner?new s.CommandValidation(!1,"Runox ya terminó"):new s.CommandValidation(!0):new s.CommandValidation(!1,"Modo Crazy no está permitido")},e}(o.GameCommand);e.TakeCardRandomPlayerCommand=l},function(t,e,n){"use strict";var r,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.SwitchHandsCommand=void 0;var o=n(26),s=n(27),a=n(15),u=function(t){function e(e,n){var r=t.call(this)||this;return r.player1=e,r.player2=n,r}return i(e,t),e.prototype.execute=function(t){t.log("Se han intercambiado dos manos",a.LogLevel.USER);var e=this.player1.hand.cards,n=this.player2.hand.cards;t.log("Cartas de "+this.player1+" : "+this.player1.hand.cards.map((function(t){return t.sprite})),a.LogLevel.ALL),t.log("Cartas de "+this.player2+" : "+this.player2.hand.cards.map((function(t){return t.sprite})),a.LogLevel.ALL),this.player1.hand.cards=n,this.player2.hand.cards=e,t.log("Cartas de "+this.player1+" : "+this.player1.hand.cards.map((function(t){return t.sprite})),a.LogLevel.ALL),t.log("Cartas de "+this.player2+" : "+this.player2.hand.cards.map((function(t){return t.sprite})),a.LogLevel.ALL)},e.prototype.validate=function(t){return t.gameModes.crazyCommands?this.player1&&this.player1?new s.CommandValidation(!0):new s.CommandValidation(!1,"Hubo un inconveniente con los jugadores ingresados"):new s.CommandValidation(!1,"Modo Crazy no está permitido")},e}(o.GameCommand);e.SwitchHandsCommand=u}]);